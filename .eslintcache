[{"D:\\Dev\\covinsights\\src\\pages\\WhitePaper.js":"1","D:\\Dev\\covinsights\\src\\css\\GlobalStyle.js":"2","d:\\Dev\\covinsights\\src\\components\\Navbar.js":"3","d:\\Dev\\covinsights\\src\\components\\Calculator\\Evolution.js":"4","d:\\Dev\\covinsights\\src\\components\\Calculator\\MyMath.js":"5","d:\\Dev\\covinsights\\src\\pages\\WhitePaper.js":"6","d:\\Dev\\covinsights\\src\\css\\GlobalStyle.js":"7","d:\\Dev\\covinsights\\src\\components\\FamilyGathering\\Gatherer.js":"8","d:\\Dev\\covinsights\\src\\components\\Calculator\\RiskCalculator.js":"9","d:\\Dev\\covinsights\\src\\components\\Calculator\\RiskForm.js":"10","D:\\Dev\\covinsights\\src\\index.js":"11","D:\\Dev\\covinsights\\src\\pages\\Error.js":"12","D:\\Dev\\covinsights\\src\\pages\\familyGathering.js":"13","D:\\Dev\\covinsights\\src\\components\\Navbar.js":"14","D:\\Dev\\covinsights\\src\\components\\constants\\profiles.js":"15","D:\\Dev\\covinsights\\src\\components\\Calculator\\NewMath.js":"16","D:\\Dev\\covinsights\\src\\css\\FooterWrapper.js":"17","D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\Gatherer.js":"18","D:\\Dev\\covinsights\\src\\reportWebVitals.js":"19","D:\\Dev\\covinsights\\src\\css\\index.js":"20","D:\\Dev\\covinsights\\src\\components\\Calculator\\MyMath.js":"21","D:\\Dev\\covinsights\\src\\components\\Body.js":"22","D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskForm.js":"23","D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\PersonCard.js":"24","D:\\Dev\\covinsights\\src\\components\\Insights\\ComparisonRisks.js":"25","D:\\Dev\\covinsights\\src\\pages\\insights.js":"26","D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskCalculator.js":"27","D:\\Dev\\covinsights\\src\\pages\\calculator.js":"28","D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskFormEng.js":"29","D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskCalculatorEng.js":"30","D:\\Dev\\covinsights\\src\\pages\\familyGatheringEng.js":"31","D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\GathererEng.js":"32","D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\PersonCardEng.js":"33","D:\\Dev\\covinsights\\src\\components\\Insights\\ComparisonRisksEng.js":"34","D:\\Dev\\covinsights\\src\\components\\constants\\activities.js":"35","D:\\Dev\\covinsights\\src\\pages\\WhitePaperEng.js":"36","D:\\Dev\\covinsights\\src\\pages\\calculatorEng.js":"37","D:\\Dev\\covinsights\\src\\css\\PageContainerWrapper.js":"38","D:\\Dev\\covinsights\\src\\components\\Calculator\\Evolution.js":"39","D:\\Dev\\covinsights\\src\\pages\\insightsEng.js":"40","D:\\Dev\\covinsights\\src\\css\\BannerWrapper.js":"41","D:\\Dev\\covinsights\\src\\css\\CardWrapper.js":"42","D:\\Dev\\covinsights\\src\\components\\constants\\profilesEng.js":"43","D:\\Dev\\covinsights\\src\\css\\NavbarWrapper.js":"44","D:\\Dev\\covinsights\\src\\components\\constants\\activitiesEng.js":"45","D:\\Dev\\covinsights\\src\\components\\Layout.js":"46","D:\\Dev\\covinsights\\src\\css\\ContactFormWrapper.js":"47","D:\\Dev\\covinsights\\src\\css\\Theme.js":"48","D:\\Dev\\covinsights\\src\\css\\PortfolioItemWrapper.js":"49"},{"size":17849,"mtime":1607176907025,"results":"50","hashOfConfig":"51"},{"size":7955,"mtime":1607177057720,"results":"52","hashOfConfig":"51"},{"size":3530,"mtime":1606848530222,"results":"53","hashOfConfig":"54"},{"size":4348,"mtime":1606761690039,"results":"55","hashOfConfig":"54"},{"size":13387,"mtime":1606737295896,"results":"56","hashOfConfig":"54"},{"size":13846,"mtime":1606937010579,"results":"57","hashOfConfig":"54"},{"size":7078,"mtime":1606933789648,"results":"58","hashOfConfig":"54"},{"size":11974,"mtime":1606920064394,"results":"59","hashOfConfig":"54"},{"size":9753,"mtime":1606920088721,"results":"60","hashOfConfig":"54"},{"size":11666,"mtime":1606920328720,"results":"61","hashOfConfig":"54"},{"size":577,"mtime":1606848818546,"results":"62","hashOfConfig":"51"},{"size":331,"mtime":1606586654735,"results":"63","hashOfConfig":"51"},{"size":1529,"mtime":1607081706077,"results":"64","hashOfConfig":"51"},{"size":7077,"mtime":1607174059047,"results":"65","hashOfConfig":"51"},{"size":1337,"mtime":1607101210751,"results":"66","hashOfConfig":"51"},{"size":12501,"mtime":1607080412104,"results":"67","hashOfConfig":"51"},{"size":1158,"mtime":1606076399253,"results":"68","hashOfConfig":"51"},{"size":15036,"mtime":1607119628351,"results":"69","hashOfConfig":"51"},{"size":362,"mtime":1606158119788,"results":"70","hashOfConfig":"51"},{"size":582,"mtime":1606076399296,"results":"71","hashOfConfig":"51"},{"size":13387,"mtime":1606737295896,"results":"72","hashOfConfig":"51"},{"size":597,"mtime":1606388632737,"results":"73","hashOfConfig":"51"},{"size":11666,"mtime":1607117704815,"results":"74","hashOfConfig":"51"},{"size":5422,"mtime":1607117750169,"results":"75","hashOfConfig":"51"},{"size":4962,"mtime":1607011998389,"results":"76","hashOfConfig":"51"},{"size":822,"mtime":1607081297220,"results":"77","hashOfConfig":"51"},{"size":10108,"mtime":1607178271244,"results":"78","hashOfConfig":"51"},{"size":1141,"mtime":1607079313096,"results":"79","hashOfConfig":"51"},{"size":11613,"mtime":1607077004867,"results":"80","hashOfConfig":"51"},{"size":10004,"mtime":1607178330230,"results":"81","hashOfConfig":"51"},{"size":1547,"mtime":1607081038118,"results":"82","hashOfConfig":"51"},{"size":14896,"mtime":1607119660757,"results":"83","hashOfConfig":"51"},{"size":5349,"mtime":1607118787918,"results":"84","hashOfConfig":"51"},{"size":4862,"mtime":1607023043443,"results":"85","hashOfConfig":"51"},{"size":5236,"mtime":1606821389273,"results":"86","hashOfConfig":"51"},{"size":15146,"mtime":1607177484156,"results":"87","hashOfConfig":"51"},{"size":1112,"mtime":1607102246721,"results":"88","hashOfConfig":"51"},{"size":1375,"mtime":1606076399346,"results":"89","hashOfConfig":"51"},{"size":4346,"mtime":1607079394951,"results":"90","hashOfConfig":"51"},{"size":805,"mtime":1607081355076,"results":"91","hashOfConfig":"51"},{"size":745,"mtime":1606076399185,"results":"92","hashOfConfig":"51"},{"size":1729,"mtime":1606076399209,"results":"93","hashOfConfig":"51"},{"size":1285,"mtime":1607101277013,"results":"94","hashOfConfig":"51"},{"size":2098,"mtime":1606221424053,"results":"95","hashOfConfig":"51"},{"size":5187,"mtime":1607010977919,"results":"96","hashOfConfig":"51"},{"size":411,"mtime":1606221119759,"results":"97","hashOfConfig":"51"},{"size":785,"mtime":1606076399231,"results":"98","hashOfConfig":"51"},{"size":345,"mtime":1606076399382,"results":"99","hashOfConfig":"51"},{"size":1368,"mtime":1606076399371,"results":"100","hashOfConfig":"51"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},"qm2kwn",{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13h2h3i",{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"119","messages":"120","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"134","messages":"135","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"137"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"137"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"137"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"162"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"140"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"168"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"171"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"176"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"183","usedDeprecatedRules":"137"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"186","messages":"187","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188","usedDeprecatedRules":"103"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191","usedDeprecatedRules":"140"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"198"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"201"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"208","messages":"209","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"212","messages":"213","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"215"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"218","usedDeprecatedRules":"140"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"221","messages":"222","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"223","usedDeprecatedRules":"162"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"215"},"D:\\Dev\\covinsights\\src\\pages\\WhitePaper.js",[],["226","227"],"D:\\Dev\\covinsights\\src\\css\\GlobalStyle.js",[],"d:\\Dev\\covinsights\\src\\components\\Navbar.js",[],"d:\\Dev\\covinsights\\src\\components\\Calculator\\Evolution.js",[],"d:\\Dev\\covinsights\\src\\components\\Calculator\\MyMath.js",["228"],"d:\\Dev\\covinsights\\src\\pages\\WhitePaper.js",["229"],"import React, {Component} from \"react\"\r\nimport { Helmet } from 'react-helmet'\r\nimport Divider from '@material-ui/core/Divider';\r\nimport { MathComponent } from 'mathjax-react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport seir_image from '../images/SEIR.png';\r\n\r\nfunction createData(name, risk) {\r\n  return { name, risk };\r\n}\r\n\r\nconst rows = [\r\n  createData('Je porte un masque chirurgical', '/2'),\r\n  createData('L\\'autre personne porte un masque chirurgical', '/4'),\r\n  createData('Être à l\\'extérieur', '/20'),\r\n  createData('Être à 2m de distance', '/2'),\r\n  createData('Chaque mètre de distance supplémentaire', '/2'),\r\n  createData('Conversation forte (crier,  chanter, parler au-dessus de la musique', 'x5'),\r\n  createData('Personne ne parle (typiquement dans un train)', '/5'),\r\n  createData('Être dans un train avec filtration d\\air, ou une voiture en mouvement fenêtres ouvertes', '/4'),\r\n];\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n  root: {\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.action.hover,\r\n    },\r\n  },\r\n}))(TableRow);\r\n\r\nclass WhitePaper extends Component {\r\n\r\n  render =() => {\r\n    return (\r\n    <div className=\"calculator_container\">\r\n        <Helmet>\r\n        <title>\r\n            Covinsights\r\n        </title>\r\n        </Helmet>        \r\n    <div className=\"whitepaper_presentation\">\r\n        <h1>\r\n        White Paper\r\n        </h1>\r\n    </div>\r\n    <Divider />\r\n    <div className=\"whitepaper\">\r\n        <h2>Présentation</h2>\r\n        <p>\r\n            L'objectif principal de ce site est de rendre accessibles un ensemble de connaissances et raisonnements mathématiques sur l'épidémie de covid19, afin de permettre à chacun\r\n            d'estimer au mieux, dans la limite du savoir actuel, aussi bien le risque pour soi et ses proches que l'impact de son comportement individuel sur l'épidémie.\r\n        </p>\r\n        <p>\r\n            Nous sommes convaincus que l'information est la clé du succès dans la lutte contre une pandémie. En donnant à tous les moyens d'ajuster leur comportement en fonction de\r\n            l'état de circulation du virus, il est possible de maintenir l'épidémie sous contrôle, afin que les mesures sanitaires extrêmes ne soient qu'un dernier recours, et non\r\n            une nécessité régulière.\r\n        </p>\r\n        <div className=\"disclaimer\">\r\n          <h3>Disclaimer</h3>\r\n          Ce site n'a pas la prétention de refléter une connaissance scientifique publiée. Il n'a pas fait l'objet d'un processus de revue par des pairs, et représente donc\r\n          uniquement les estimations des auteurs étant donné les connaissances à leur disposition, qui ne sont pour certaines pas suffisantes pour garantir la précision et la fiabilité\r\n          des chiffres proposés. Notre objectif est uniquement de permettre au grand public de faire des estimations rapides pour prendre des décisions personnelles.\r\n          <br/> <br/>         \r\n          Nous ne sommes en aucun cas des experts de ce sujet, même si nous avons lu beaucoup de papiers d'experts. Ceci n'est pas une source primaire d'information\r\n          sur le COVID. N'utilisez pas les outils de ce site pour prendre des décisions médicales. Continuez à suivre les recommandations du gouvernement.\r\n        </div>\r\n        <br />\r\n        <h2>1. Calcul de risque</h2>\r\n        <p>\r\n            Nous utilisons l'algorithme de calcul de risque développé par l'équipe de <a href=\"http://microcovid.org/paper/\">Microcovid</a>. Pour plus de détails et les liens vers les\r\n            publications scientifiques sur lesquelles reposent les chiffres, nous vous encourageons vivement à consulter leur site. Ils ont accompli un travail considérable et\r\n            de grande qualité en compilant la littérature existante sur le sujet. Dans cette section, nous allons résumer la méthode de calcul et les chiffres utilisés.\r\n        </p>\r\n        On peut décomposer le risque lié à une activité en deux morceaux : le risque de transmission durant l'activité, et le profil de risque de la personne avec qui on la pratique:\r\n        <div className=\"visible_except_mobile\">\r\n        <MathComponent tex={String.raw`\\mathbb{P}\\left[ \\text{B contamine A} \\right] = \\mathbb{P}\\left[ \\text{B contamine A} \\vert\r\n          \\text{B a le covid} \\right] \\times \\mathbb{P}\\left[ \\text{B a le covid} \\right]`} />\r\n        </div>\r\n        <div className=\"visible_mobile_only\">\r\n        <MathComponent tex={String.raw`\\mathbb{P}\\left[ \\text{B contamine A} \\right]`} />\r\n          <MathComponent tex={String.raw`= \\mathbb{P}\\left[ \\text{B contamine A} \\vert\r\n          \\text{B a le covid} \\right]`} />\r\n          <MathComponent tex={String.raw`\\times \\mathbb{P}\\left[ \\text{B a le covid} \\right]`} />\r\n        </div>\r\n\r\n        <h3>Risque de transmission</h3>\r\n        On part d'une estimation dans le cas le plus simple :\r\n        <div className=\"center_gray\">\r\n          Risque de transmission durant une conversation de 1h sans masque, en intérieur, avec quelqu'un qui a le covid : 6%\r\n        </div>\r\n        Puis l'on multiplie cette probabilité de tranmission par divers modificateurs (voir <a href=\"http://microcovid.org/paper/\">Microcovid</a> pour plus de détails et les\r\n        sources):\r\n        <br /> <br />\r\n          <TableContainer component={Paper}>\r\n          <Table size=\"small\" aria-label=\"a dense table\">\r\n            <TableHead>\r\n              <StyledTableRow>\r\n                <StyledTableCell>Modification de l'activité</StyledTableCell>\r\n                <StyledTableCell align=\"right\">Facteur de risque</StyledTableCell>\r\n              </StyledTableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {rows.map((row) => (\r\n                <StyledTableRow key={row.name}>\r\n                  <StyledTableCell component=\"th\" scope=\"row\">\r\n                    {row.name}\r\n                  </StyledTableCell>\r\n                  <StyledTableCell align=\"right\">{row.risk}</StyledTableCell>\r\n                </StyledTableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n\r\n      <br />\r\n\r\n    <h3>Profil de risque de la personne</h3>\r\n    Pour obtenir le risque total, il faut ensuite comme on l'a vu plus haut multiplier le risque de transmission par la probabilité que la personne aie le covid.\r\n    Plusieurs méthodes sont possibles pour calculer cela :\r\n    <ul style={{listStylePosition: 'inside', margin:'15px'}}>\r\n    <li>Calculer le risque directement. Mais la question se pose à nouveau dans ce calcul pour les personnes que la personne fréquente. Par conséquent, il\r\n      faut utiliser d'autres méthodes pour éviter une boucle infinie;\r\n    </li>\r\n    <li style={{marginTop:'5px'}}> Utiliser la prévalence (autrement dit la probabilité qu'une personne au hasard aie le covid);</li>\r\n    <li style={{marginTop:'5px'}}> Ajuster cette prévalence en fonction de profils de risques généraux (par exemple travailleur de première ligne, personne qui télétravaille et socialise peu, etc.)</li>\r\n    </ul>\r\n    Nos calculs utilisent la troisième méthode, en définissant plusieurs profils de risque : les personnes travaillant en première ligne ou socialisant beaucoup (x3), et\r\n    les personnes télétravaillant et socialisant peu (/3).\r\n    <p>\r\n      Pour calculer la prévalence, nous utilisons \r\n      <a href=\"https://www.data.gouv.fr/en/datasets/donnees-hospitalieres-relatives-a-lepidemie-de-covid-19/\"> les données du gouvernemnt</a> relatives au nombre d'hospitalisations\r\n      et au nombre de réanimations. Ensuite, nous utilisons <a href='https://hal-pasteur.archives-ouvertes.fr/pasteur-02548181'>les analyses de l'institut Pasteur</a> (qui fournissent\r\n      des estimations de la probabilité d'être hospitalisé et d'aller en réa par classe d'âge), pour en déduire une estimation du nombre réel de cas. Il suffit alors\r\n      de diviser ce nombre par la population totale pour obtenir la prévalence.\r\n    </p>\r\n    <br/>\r\n    <h3>Durée et nombre de personnées</h3>\r\n    Tout cela donne le risque de transmission lié à l'activité pendant une heure. Pour obtenir le risque lié à la pratique de l'activité plusieurs heures durant, on calcule\r\n    la probabilité d'être contaminé durant au moins une de ces heures. Autrement dit, l'inverse de n'être contaminé pendant aucune des heures en question. Si le risque sur\r\n    1h est p, alors celui d'être contaminé sur n heures sera :\r\n    <div className=\"visible_except_mobile\">\r\n    <MathComponent tex={String.raw`\\mathbb{P}\\left[ \\text{contamination en N heures} \\right] = 1- (1-p)^{\\text{n}}`} />\r\n    </div>\r\n    <div className=\"visible_mobile_only\">\r\n    <MathComponent tex={String.raw`\\mathbb{P}\\left[ \\text{contam N heures} \\right] \\newline = 1- (1-p)^{\\text{n}}`} />\r\n    </div>\r\n    <p>\r\n    Nous limitons dans notre calcul le risque lié à une personne donnée (quel que soit le nombre d'heures en une semaine) à 50%, ce qui représente environ le risque\r\n    d'être contaminé par un partenaire ayant le covid en une semaine.\r\n    </p>\r\n    <p>\r\n    Lorsque plusieurs personnes participent à l'activité, on calcule la probabilité de transmission pour chacune, puis la probabilité d'être contaminé par au moins une de ces\r\n    personnes, suivant le même calcul que précédemment. Si la probabilité de contamination par une personne est P, alors pour N personnes :\r\n    </p>\r\n    <div className=\"visible_except_mobile\">\r\n    <MathComponent tex={String.raw`\\mathbb{P}\\left[ \\text{contamination avec N personnes} \\right] = 1- (1-P)^{\\text{N}}`} />\r\n    </div>\r\n    <div className=\"visible_mobile_only\">\r\n    <MathComponent tex={String.raw`\\mathbb{P}\\left[ \\text{contam N personnes} \\right] = 1- (1-P)^{\\text{N}}`} />\r\n    </div>\r\n    <p>\r\n    Notons qu'il s'agit là de la différence majeure entre notre algorithme et celui de Microcovid, qui additionne les risques liés à chaque heure et chaque personne.\r\n    Il s'agit d'une approximation fonctionnant bien pour les risques très faibles, mais surestimant généralement le résultat total.\r\n    </p>\r\n    <br /><br/>\r\n    <h2>2. Impact sur l'épidémie</h2>\r\n    <p>\r\n    Le calcul précédent nous permet d'estimer le risque individuel, autrement dit la probabilité d'être contaminé par le covid en fonction de ses activités sur une semaine.\r\n    Cela ne nous dit toutefois pas quel peut être l'impact de ce risque à l'échelle de l'épidémie. Autrement dit, contribuons-nous à accélérer, ou freiner, la circulation du virus ?\r\n    Si prédire le déroulement de l'épidémie en situation réelle est une tâche extrêmement compliquée (certains d'entre nous ont travaillé sur ce sujet et peuvent en témoigner) de par\r\n    le nombre gigantesque de paramètres à prendre en compte et la quantité d'incertitude existante, rendant les intervalles de confiance gigantesques, il est possible de donner\r\n    une réponse aux questions ci-dessus en simplifiant le problème de la façon suivante :\r\n    </p>\r\n    <div className=\"center_gray\">\r\n        Comment l'épidémie évoluerait-elle si tout le monde avait le même profil de risque que moi ?\r\n    </div>\r\n    Cette simplification permet de calculer l'évolution de l'épidémie de façon relativement simple, en utilisant une variante de\r\n    modèle <a href=\"https://en.wikipedia.org/wiki/Compartmental_models_in_epidemiology\">SEIR</a>. On fait l'hypothèse qu'il n'y a pas de réinfections\r\n    (ou un nombre négligeable), et on note :\r\n    <ul style={{listStylePosition: 'inside', margin:'15px'}}>\r\n      <li> S(t) le nombre de personnes susceptibles à l'instant t (autrement dit pouvant être infectés, et n'étant pas immunisés);\r\n      </li>\r\n      <li style={{marginTop:'5px'}}>E(t) le nombre de personnes exposées à l'instant t (infectées par le virus mais pas encore contagieuses)</li>\r\n      <li style={{marginTop:'5px'}}>I(t) le nombre de personnes infectées contagieuses</li>\r\n      <li style={{marginTop:'5px'}}>R(t) le nombre de personnes ayant récupéré et étant immunisées</li>\r\n    </ul>\r\n    <img src={seir_image} alt=\"SEIR\" className=\"seir_image\" />\r\n    <p>\r\n    Comme dans le modèle SEIR, les transitions de E vers I et de I vers R se font à taux constants (respectivement alpha et gamma, qui représentent l'inverse de\r\n    la durée d'incubation et de la durée de contagiosité). Toutefois, le calcul du nombre de nouveaux contaminés est différent du modèle classique :\r\n    </p>\r\n    <div className=\"visible_except_mobile\">\r\n    <MathComponent tex={String.raw`E(t+1)-E(t) = \\sum_{\\text{personne}}\\mathbb{P}\\left[ \\text{contamination} \\right]`} />\r\n    </div>\r\n    <div className=\"visible_mobile_only\">\r\n    <MathComponent tex={String.raw`E(t+1)-E(t) = \\sum_{\\text{personne}}\\mathbb{P}\\left[ \\text{contamination} \\right]`} />\r\n    </div>\r\n    Où la probabilité de contamination pour chaque personne est calculée suivant la formule de la section précédente, en utilisant une prévélence de I(t)/N, autrement dit la\r\n    probabilité qu'une personne aléatoire ait le virus à l'instant t.\r\n    <p>\r\n     \r\n    </p>\r\n    </div>\r\n    </div>\r\n  )\r\n  }\r\n}\r\n\r\nexport default WhitePaper;","d:\\Dev\\covinsights\\src\\css\\GlobalStyle.js",[],"d:\\Dev\\covinsights\\src\\components\\FamilyGathering\\Gatherer.js",["230","231","232","233"],"d:\\Dev\\covinsights\\src\\components\\Calculator\\RiskCalculator.js",["234","235"],"d:\\Dev\\covinsights\\src\\components\\Calculator\\RiskForm.js",["236"],"D:\\Dev\\covinsights\\src\\index.js",[],"D:\\Dev\\covinsights\\src\\pages\\Error.js",[],"D:\\Dev\\covinsights\\src\\pages\\familyGathering.js",[],"D:\\Dev\\covinsights\\src\\components\\Navbar.js",[],["237","238"],"D:\\Dev\\covinsights\\src\\components\\constants\\profiles.js",["239"],"D:\\Dev\\covinsights\\src\\components\\Calculator\\NewMath.js",["240","241","242","243"],"class Universe{\r\n\t/*\r\n\tThe universe class contains the prevalence at time, as well as the\r\n\tprobabilities of changing state. There should be a common universe to\r\n\tall persons and activities in an experiment, for easy update.\r\n\t*/\r\n\tconstructor(prevalence){\r\n\t\tthis.prevalence = prevalence;\r\n\t}\r\n\t\r\n\tsetPrevalence(prevalence){\r\n\t\tthis.prevalence = prevalence;\r\n\t}\r\n\t/*\r\n\t- Probability of being hospitalized if infected;\r\n\t- Probability of needing ICU if hospitalized;\r\n\t- Probability of dying if hospitalized.\r\n\tAll the numbers come from the paper of Institut Pasteur :\r\n\t\"Estimating the burden of SARS-CoV-2 in France\"\r\n\thttps://hal-pasteur.archives-ouvertes.fr/pasteur-02548181/document\r\n\t*/\r\n\tageFactors(age=\"20\", gender=\"ND\"){\r\n\t\tvar hospAgeFactor, reaAgeFactor, deathAgeFactor;\r\n\t\tif(gender===\"M\"){\r\n\t\t\tif (age < 20){\r\n\t\t\t\thospAgeFactor = 0.1;\r\n\t\t\t\treaAgeFactor = 17.5;\r\n\t\t\t\tdeathAgeFactor = 1.2;\r\n\t\t\t}\r\n\t\t\telse if (age < 30){\r\n\t\t\t\thospAgeFactor = 0.6;\r\n\t\t\t\treaAgeFactor = 12.2;\r\n\t\t\t\tdeathAgeFactor = 1.3;\r\n\t\t\t}\r\n\t\t\telse if (age < 40){\r\n\t\t\t\thospAgeFactor = 1.2;\r\n\t\t\t\treaAgeFactor = 17.2;\r\n\t\t\t\tdeathAgeFactor = 2.5;\r\n\t\t\t}\r\n\t\t\telse if (age < 50){\r\n\t\t\t\thospAgeFactor = 1.6;\r\n\t\t\t\treaAgeFactor = 24.3;\r\n\t\t\t\tdeathAgeFactor = 3.9;\r\n\t\t\t}\r\n\t\t\telse if (age < 60){\r\n\t\t\t\thospAgeFactor = 3.2;\r\n\t\t\t\treaAgeFactor = 31.7;\r\n\t\t\t\tdeathAgeFactor = 7.5;\r\n\t\t\t}\r\n\t\t\telse if (age < 70){\r\n\t\t\t\thospAgeFactor = 7.0;\r\n\t\t\t\treaAgeFactor = 36.4;\r\n\t\t\t\tdeathAgeFactor = 14.2;\r\n\t\t\t}\r\n\t\t\telse if (age < 80){\r\n\t\t\t\thospAgeFactor = 11.4;\r\n\t\t\t\treaAgeFactor = 29.0;\r\n\t\t\t\tdeathAgeFactor = 25.3;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thospAgeFactor = 31.4;\r\n\t\t\t\treaAgeFactor = 5.7;\r\n\t\t\t\tdeathAgeFactor = 42.0;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(gender===\"F\"){\r\n\t\t\tif (age<20){\r\n\t\t\t\thospAgeFactor = 0.09;\r\n\t\t\t\treaAgeFactor = 8.5;\r\n\t\t\t\tdeathAgeFactor = 0.;\r\n\t\t\t}\r\n\t\t\telse if (age<30){\r\n\t\t\t\thospAgeFactor = 0.5;\r\n\t\t\t\treaAgeFactor = 6.8;\r\n\t\t\t\tdeathAgeFactor = 1.4;\r\n\t\t\t}\r\n\t\t\telse if (age<40){\r\n\t\t\t\thospAgeFactor = 0.9;\r\n\t\t\t\treaAgeFactor = 10.4;\r\n\t\t\t\tdeathAgeFactor = 1.6;\r\n\t\t\t}\r\n\t\t\telse if (age<50){\r\n\t\t\t\thospAgeFactor = 1.3;\r\n\t\t\t\treaAgeFactor = 14.3;\r\n\t\t\t\tdeathAgeFactor = 3.2;\r\n\t\t\t}\r\n\t\t\telse if (age<60){\r\n\t\t\t\thospAgeFactor = 2.5;\r\n\t\t\t\treaAgeFactor = 19.0;\r\n\t\t\t\tdeathAgeFactor = 6.4;\r\n\t\t\t}\r\n\t\t\telse if (age<70){\r\n\t\t\t\thospAgeFactor = 5.3;\r\n\t\t\t\treaAgeFactor = 21.6;\r\n\t\t\t\tdeathAgeFactor = 12.0;\r\n\t\t\t}\r\n\t\t\telse if (age<80){\r\n\t\t\t\thospAgeFactor = 8.0;\r\n\t\t\t\treaAgeFactor = 17.0;\r\n\t\t\t\tdeathAgeFactor = 20.7;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thospAgeFactor = 15.9;\r\n\t\t\t\treaAgeFactor = 3.4;\r\n\t\t\t\tdeathAgeFactor = 34.0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// si gender non défini on met la moyenne\r\n\t\telse{\r\n\t\t\tif (age<20){\r\n\t\t\t\thospAgeFactor = 0.1;\r\n\t\t\t\treaAgeFactor = 13.5;\r\n\t\t\t\tdeathAgeFactor = 0.6;\r\n\t\t\t}\r\n\t\t\telse if (age<30){\r\n\t\t\t\thospAgeFactor = 0.5;\r\n\t\t\t\treaAgeFactor = 9.8;\r\n\t\t\t\tdeathAgeFactor = 1.4;\r\n\t\t\t}\r\n\t\t\telse if (age<40){\r\n\t\t\t\thospAgeFactor = 1.0;\r\n\t\t\t\treaAgeFactor = 14.1;\r\n\t\t\t\tdeathAgeFactor = 2.1;\r\n\t\t\t}\r\n\t\t\telse if (age<50){\r\n\t\t\t\thospAgeFactor = 1.5;\r\n\t\t\t\treaAgeFactor = 19.8;\r\n\t\t\t\tdeathAgeFactor = 3.6;\r\n\t\t\t}\r\n\t\t\telse if (age<60){\r\n\t\t\t\thospAgeFactor = 2.8;\r\n\t\t\t\treaAgeFactor = 25.9;\r\n\t\t\t\tdeathAgeFactor = 7.0;\r\n\t\t\t}\r\n\t\t\telse if (age<70){\r\n\t\t\t\thospAgeFactor = 6.1;\r\n\t\t\t\treaAgeFactor = 29.7;\r\n\t\t\t\tdeathAgeFactor = 13.2;\r\n\t\t\t}\r\n\t\t\telse if (age<80){\r\n\t\t\t\thospAgeFactor = 9.6;\r\n\t\t\t\treaAgeFactor = 23.5;\r\n\t\t\t\tdeathAgeFactor = 23.2;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thospAgeFactor = 21.7;\r\n\t\t\t\treaAgeFactor = 4.6;\r\n\t\t\t\tdeathAgeFactor = 38.4;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [hospAgeFactor/100, reaAgeFactor/100, deathAgeFactor/100];\t\r\n\t}\r\n}\r\n\r\nclass BasicUniverse extends Universe{\r\n\tconstructor(){\r\n\t\tsuper(0.008); // Prevalence in early December in France.\r\n\t}\r\n}\r\n\r\nclass RiskProfile{\r\n\tconstructor(type=\"basic\"){\r\n\t\tthis.type = type;\r\n\t}\r\n\t\r\n\tgetProfileRisk(){\r\n\t\treturn 1.0;\r\n\t}\r\n}\r\n\r\nclass NonWorkerRiskProfile extends RiskProfile{\r\n\tconstructor(){\r\n\t\tsuper(\"nonWorker\");\r\n\t}\r\n\tgetProfileRisk(){\r\n\t\treturn 1.0 / 3.0;\r\n\t}\r\n}\r\n\r\nclass WorkerRiskProfile extends RiskProfile{\r\n\tconstructor(){\r\n\t\tsuper(\"worker\");\r\n\t}\r\n\tgetProfileRisk(){\r\n\t\treturn 3.0;\r\n\t}\r\n}\r\n\r\nclass CustomActivity{\r\n    constructor(name=\"an activity\", duration=60, nb_people=1, mask=false, maskProportion=0., talking=\"normal\", location=\"indoors\", distance=\"normal\", riskProfile=new RiskProfile()){\r\n\t\tthis.name = name;\r\n\t\tthis.duration=duration;\r\n\t\tthis.nb_people = nb_people;\r\n\t\tthis.mask = mask;\r\n\t\tthis.maskProportion = maskProportion;\r\n\t\tthis.talking = talking;\r\n\t\tthis.location=location;\r\n\t\tthis.distance=distance;\r\n\t\tthis.hours = Math.floor(duration/60);\r\n        this.minutes = duration % 60;\r\n        this.riskProfile=riskProfile;\r\n\t}\r\n    \r\n    getRisk(){\r\n\t\tvar risk = 0.06\r\n\t\tif (this.mask){\r\n\t\t\trisk = risk / 2;\r\n\t\t}\r\n\t\trisk = risk * (1 - 0.75 * this.maskProportion);\r\n\t\tif (this.location==\"outdoors\"){\r\n\t\t\trisk = risk / 20;\r\n        }\r\n        if (this.location==\"train\" || this.location==\"car\"){\r\n\t\t\trisk = risk / 4;\r\n        }\r\n        if (this.location==\"plane\"){\r\n\t\t\trisk = risk / 6;\r\n\t\t}\r\n\t\tif (this.talking === \"loud\"){\r\n\t\t\trisk = risk * 5;\r\n\t\t}\r\n\t\tif (this.talking === \"quiet\"){\r\n\t\t\trisk = risk / 5;\r\n\t\t}\r\n\t\tif (this.distance ===\"close\"){\r\n\t\t\trisk = risk * 2;\r\n\t\t}\r\n\t\tif (this.distance === \"long\"){\r\n\t\t\trisk = risk /2;\r\n\t\t}\r\n\t\tif (this.distance === \"veryLong\"){\r\n\t\t\trisk = risk /4;\r\n\t\t}\r\n        risk = risk * this.riskProfile.getProfileRisk();\r\n        // This, multiplied by the prevalence, gives the probability of getting covid from a 1h interaction with the person\r\n\t\treturn [risk, this.hours, this.minutes, this.nb_people];\r\n\t}\r\n}\r\n\r\nclass Person extends RiskProfile{\r\n\tconstructor(name, age, gender=\"ND\", activity_list=[], universe = new BasicUniverse()){\r\n\t\tsuper(universe);\r\n\t\tthis.name = name;\r\n\t\tthis.age = age;\r\n\t\tthis.gender = gender;\r\n\t\tthis.activityList = activity_list;\r\n\t\tthis.universe = universe;\r\n\t\tthis.ageFactors = this.universe.ageFactors(this.age, this.gender);\r\n\t}\r\n\t\r\n\taddActivity(activity){\r\n\t\tthis.activityList.push(activity);\r\n\t}\r\n\t\r\n\tclearActivityList(){\r\n\t\t// Javascript has a garbage collector so no need to care about memory release.\r\n\t\tthis.activityList = [];\r\n\t}\r\n\t\r\n\tgetRisk(){\r\n\t\t// Returns the probability of having the disease\r\n\t\tvar risk=1;\r\n\t\tif(this.activityList === undefined || this.activityList.length === 0)\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tvar i=0;\r\n\t\tfor(i=0; i<this.activityList.length; i++)\r\n\t\t{\r\n            var myActi = this.activityList[i].getRisk(); // [risk, hours, minutes, nb_people]\r\n            var myRisk = myActi[0] * this.universe.prevalence;\r\n            // Handle duration\r\n\t\t\tvar composedRisk = 1 - Math.pow((1-myRisk),myActi[1])*(1-myRisk*myActi[2]/60);\r\n\t\t\t// We hardcap the risk from one single person to the household value, 0.5.\r\n\t\t\tif(composedRisk>0.5){\r\n\t\t\t\tcomposedRisk=0.5;\r\n\t\t\t}\r\n            // Handle nb people\r\n            var totalRisk = Math.pow((1-composedRisk), myActi[3]); // gives 1-the risk\r\n\r\n\t\t\trisk = risk*totalRisk;\r\n        }\r\n        risk=1-risk;\r\n\t\treturn risk;\r\n\t}\r\n\t\r\n\tcomputeAgeDangerProfile(){\r\n\t\t// Probability of catching the disease, being hospitalized, ICU, death.\r\n\t\tvar risk = this.getRisk();\r\n\t\tvar riskHosp = risk * this.ageFactors[0];\r\n\t\tvar riskRea = riskHosp * this.ageFactors[1];\r\n\t\tvar riskDeath = riskHosp * this.ageFactors[2];\r\n\t\treturn [risk, riskHosp, riskRea, riskDeath];\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass Interaction{\r\n\tconstructor(name){\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tgetRisk(){\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nclass InteractionOne extends Interaction{\r\n\tconstructor(name=\"an activity\", duration=60, maskA=false, maskB=false, talking=\"normal\", outdoors=false, distance=\"normal\"){\r\n\t\t/* A one on one interaction. Options are :\r\n\t\ttalking = \"normal\", \"loud\" (x3), \"quiet\" (/3)\r\n\t\toutdoors (/20)\r\n\t\tdistance = \"normal\", \"close\" (x2), \"long\" (/2) */\r\n\t\tsuper(name);\r\n\t\tthis.duration=duration;\r\n\t\tthis.maskA=maskA;\r\n\t\tthis.maskB=maskB;\r\n\t\tthis.talking = talking;\r\n\t\tthis.outdoors=outdoors;\r\n\t\tthis.distance=distance;\r\n\t\tthis.hours = Math.floor(duration/60);\r\n\t\tthis.minutes = duration % 60;\r\n\t}\r\n\t\r\n\tsetMask(maskA,maskB){\r\n\t\tthis.maskA = maskA;\r\n\t\tthis.maskB = maskB;\r\n\t}\r\n\t\r\n\t// Returns the risk of contamination if the other has the disease.\r\n\tgetActivityRisk(){\r\n\t\tvar risk = 0.06\r\n\t\tif (this.maskA){\r\n\t\t\trisk = risk / 2;\r\n\t\t}\r\n\t\tif (this.maskB){\r\n\t\t\trisk = risk / 4;\r\n\t\t}\r\n\t\tif (this.outdoors){\r\n\t\t\trisk = risk / 20;\r\n\t\t}\r\n\t\tif (this.talking === \"loud\"){\r\n\t\t\trisk = risk * 5;\r\n\t\t}\r\n\t\tif (this.talking === \"quiet\"){\r\n\t\t\trisk = risk / 5;\r\n\t\t}\r\n\t\tif (this.distance ===\"close\"){\r\n\t\t\trisk = risk * 2;\r\n\t\t}\r\n\t\tif (this.distance === \"long\"){\r\n\t\t\trisk = risk /2;\r\n\t\t}\r\n\t\tif (this.distance === \"veryLong\"){\r\n\t\t\trisk = risk /4;\r\n\t\t}\r\n\t\tvar finalRisk = 0\r\n\t\t// Adapting the risk to the duration. 6% chance of contamination per hour.\r\n\t\tvar i;\r\n\t\tfor (i=0; i< this.hours; i++){\r\n\t\t\tfinalRisk = finalRisk + (1-finalRisk)*risk;\r\n\t\t}\r\n\t\tfinalRisk = finalRisk + (1-finalRisk)*risk*this.minutes/60;\r\n\t\treturn finalRisk;\r\n\t}\r\n}\r\n\r\n// Recreating the defaultdict from python.\r\nclass DefaultDict {\r\n    constructor(defaultVal) {\r\n      return new Proxy({}, {\r\n        get: (target, name) => name in target ? target[name] : defaultVal\r\n      })\r\n    }\r\n  }\r\n\r\nclass GroupReunion{\r\n\t/*\r\n\tSimulating a family gathering. The mask policy can be \"none\", \"all\", or \"under50\".\r\n\tIn the latter, only the people younger than 50 wear a mask.\r\n\tOutput : the probability that at least one person is sick, hospitalized or dies,\r\n\tas well as the average number of hospitalizations, ICU or death.\r\n\tFinally, we estimate the number of family gatherings and compute the\r\n\tcount for the whole country, as the \"cost\" of christmas.\r\n\t*/\r\n\tconstructor(duration=60, maskPolicy=\"none\", distance=\"normal\", outdoors=false, talking=\"normal\", personList=[]){\r\n\t\tthis.duration = duration;\r\n\t\tthis.maskPolicy = maskPolicy;\r\n\t\tthis.distance = distance;\r\n\t\tthis.outdoors = outdoors;\r\n\t\tthis.talking = talking;\r\n\t\tthis.personList = personList;\r\n\t\tthis.generateMasked();\r\n\t\t// We use a one-on-one interaction to compute the various risks.\r\n        this.interaction = new InteractionOne(\"meeting\", this.duration, false, false, this.talking, this.outdoors, this.distance);\r\n\t\t// *** TODO *** Ajouter le calcul du profil de risque.\r\n\t}\r\n\t\r\n\tgenerateMasked(){\r\n\t\t// Compute who wears a mask according to the mask policy.\r\n\t\tthis.masked = new DefaultDict(false);\r\n\t\tif(this.maskPolicy===\"all\"){\r\n\t\t\tthis.masked = new DefaultDict(true);\r\n\t\t}\r\n\t\telse if(this.maskPolicy===\"under50\"){\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(i=0; i<this.personList.length;i++){\r\n\t\t\t\tif(this.personList[i].age < 50){\r\n\t\t\t\t\tthis.masked[i] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\taddPerson(p){\r\n\t\tthis.personList.push(p);\r\n\t}\r\n\t\r\n\tupdate(){\r\n\t\tthis.generateMasked();\r\n\t\t// *** TODO *** Ajouter le calcul de this.riskProfile\r\n\t}\r\n\t\r\n\tcomputeRiskProfile(){\r\n\t\t/*\r\n\t\tFormulas :\r\n\t\t- Mean number of people hospitalized : sum(p_hosp)\r\n\t\t- Probability that at least one person is hospitalized : 1 - prod(1-p_hosp)\r\n\t\t*/\r\n\t\tvar risk = 1.0;\r\n\t\tvar hospRisk = 1.0;\r\n\t\tvar reaRisk = 1.0;\r\n\t\tvar deathRisk = 1.0;\r\n\t\tvar moyenneHosp = 0.0;\r\n\t\tvar moyenneRea = 0.0;\r\n\t\tvar moyenneDeaths = 0.0;\r\n\t\tvar i;\r\n\t\tfor(i=0; i<this.personList.length;i++){\r\n\t\t\tvar myRisk = this.personList[i].get_risk();\r\n\t\t\t// We update the probability that no-one has the disease\r\n\t\t\trisk = risk * (1-myRisk);\r\n\t\t\tvar j;\r\n\t\t\tfor(j=0; j<this.personList.length; j++){\r\n\t\t\t\tthis.interaction.setMask(this.masked[i], this.masked[j]);\r\n\t\t\t\t// Updating the risk for person i by taking into account the possible\r\n\t\t\t\t// contamination by person j.\r\n\t\t\t\tmyRisk = myRisk + (1-myRisk)*this.interaction.getActivityRisk()*this.personList[j].getRisk();\r\n\t\t\t}\r\n\t\t\tvar hospProba = this.personList[i].ageFactors[0];\r\n\t\t\tvar reaProba = this.personList[i].ageFactors[1];\r\n\t\t\tvar deathProba = this.personList[i].ageFactors[2];\r\n\t\t\t// Updating the proba that no-one gets hospitalized\r\n\t\t\thospRisk = hospRisk * (1 - myRisk*hospProba);\r\n\t\t\treaRisk = reaRisk * (1 - myRisk*hospProba*reaProba)\r\n\t\t\tdeathRisk = deathRisk  *(1 - myRisk*hospProba*deathProba)\r\n\t\t\t// Updating the average number of hospitalizations\r\n\t\t\tmoyenneHosp = moyenneHosp + myRisk*hospProba\r\n\t\t\tmoyenneRea = moyenneRea + myRisk*hospProba*reaProba\r\n\t\t\tmoyenneDeaths = moyenneDeaths + myRisk*hospProba*deathProba\r\n\t\t}\r\n\t\trisk = 1-risk;\r\n\t\thospRisk = 1-hospRisk;\r\n\t\treaRisk = 1-reaRisk;\r\n\t\tdeathRisk = 1-deathRisk;\r\n\t\treturn [risk, hospRisk, reaRisk, deathRisk, moyenneHosp, moyenneRea, moyenneDeaths];\r\n\t}\r\n}\r\n\r\nexport {BasicUniverse, CustomActivity, Person, Universe, GroupReunion, RiskProfile, NonWorkerRiskProfile, WorkerRiskProfile, InteractionOne};",["244","245"],"D:\\Dev\\covinsights\\src\\css\\FooterWrapper.js",[],["246","247"],"D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\Gatherer.js",["248","249","250","251","252"],"import React, { Component } from \"react\"\r\nimport PersonCard from \"./PersonCard.js\"\r\nimport Fab from \"@material-ui/core/Fab\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\nimport Box from \"@material-ui/core/Box\"\r\nimport Chip from '@material-ui/core/Chip';\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport profiles from '../constants/profiles.js';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport {InteractionOne, BasicUniverse} from '../Calculator/NewMath.js';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { IconButton} from \"@material-ui/core\"\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\n\r\n/*\r\n**********\r\n** TODO **\r\n**********\r\n\r\nAjouter des cases pour le type de réunion familiale (une ligne en bas)\r\n-> masque ou non, intérieur/extérieur, \r\n*/\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap',\r\n      '& > *': {\r\n        margin: theme.spacing(0.5),\r\n      },\r\n    },\r\n  });\r\n\r\nclass Gathering extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        // globalRisk contains the person Risk derived from the calculator.\r\n        this.state={people:{}, peopleCards:[], nextId:0, toggleResult:false, result:[],\r\n        masks:false, location:\"indoors\", duration:300, talking:\"normal\", distance:\"normal\", universe:new BasicUniverse(), \r\n        globalRisk:(isNaN(this.props.globalRisk)? 0:this.props.globalRisk)}\r\n        this.defaultPersonArgs = {\r\n            name:\"Bobby\",\r\n            age: 20,\r\n            gender: \"ND\",\r\n            risk:0,\r\n        };\r\n        this.refResult = React.createRef();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        \r\n    }\r\n\r\n    // We only add the card, the person is added on submit.\r\n    addPerson = (args) => {\r\n        const myId = this.state.nextId;\r\n        const myNewCard = (\r\n            <Grid item className=\"activity_list\">\r\n                <PersonCard id={myId} showForm={false} updatePerson={this.updatePerson} delete={() => {this.clear(myId); this.toggleOffResult()}} {...args}>\r\n                    <div className=\"delete_button\">\r\n                    <Tooltip title=\"Supprimer\">\r\n                    <IconButton aria-label=\"delete\" size=\"small\" onClick={() => {this.clear(myId); this.toggleOffResult()}}>\r\n                    <DeleteIcon />\r\n                    </IconButton>\r\n                    </Tooltip>\r\n                    </div>\r\n                </PersonCard>\r\n            </Grid>\r\n          )\r\n        this.setState({ nextId: this.state.nextId + 1 });\r\n        var myCards = this.state.peopleCards.slice();\r\n        myCards.push(myNewCard);\r\n        this.setState({ peopleCards:myCards });\r\n    }\r\n\r\n    // For a premade, we directly enter the person\r\n    addPremadePerson = (args) => {\r\n        const myId = this.state.nextId;\r\n        const myNewCard = (\r\n            <Grid item className=\"activity_list\">\r\n                <PersonCard id={myId} showForm={true} updatePerson={this.updatePerson} delete={() => {this.clear(myId); this.toggleOffResult()}} {...args}>\r\n                    <div className=\"delete_button\">\r\n                    <Tooltip title=\"Supprimer\">\r\n                    <IconButton aria-label=\"delete\" size=\"small\" onClick={() => {this.clear(myId); this.toggleOffResult()}}>\r\n                    <DeleteIcon />\r\n                    </IconButton>\r\n                    </Tooltip>\r\n                    </div>\r\n                </PersonCard>\r\n            </Grid>\r\n          )\r\n        this.setState({ nextId: this.state.nextId + 1 });\r\n        var myCards = this.state.peopleCards.slice();\r\n        var myPeople = this.state.people;\r\n        var ageFactors = this.state.universe.ageFactors(args.age, args.gender);\r\n        myPeople[myId] = [ageFactors, args.risk];\r\n        myCards.push(myNewCard);\r\n        this.setState({ peopleCards:myCards });\r\n    }\r\n\r\n    clear = id => {\r\n        // Updating the cards and the people.\r\n        var myCards = this.state.peopleCards.slice();\r\n        var myPeople = this.state.people;\r\n        myCards[id] = <div />\r\n        delete myPeople[id];\r\n        this.setState({ peopleCards: myCards, people:myPeople})\r\n    }\r\n\r\n    clearAll = () => {\r\n        this.setState({ nextId: 0, peopleCards: [], people:{}, toggleResult:false });\r\n    }\r\n\r\n    // Called by the children on mount and submit\r\n    updatePerson = (id, age, gender, risk) => {\r\n        var myPeople = this.state.people;\r\n        var ageFactors = this.state.universe.ageFactors(age, gender);\r\n        myPeople[id] = [ageFactors, risk];\r\n        this.setState({people:myPeople});\r\n      }\r\n\r\n    generatePremadeCards = () => {\r\n    profiles.sort((a, b) => (a.name > b.name) ? 1 : -1);\r\n    const { classes } = this.props;\r\n    return (\r\n        <div id=\"premade_cards\" className={classes.root}>\r\n            {profiles.map((item, index) => {\r\n            return (\r\n                    <Chip icon={<FaceIcon />} label={item.name} clickable onClick={() => {this.addPremadePerson(item); this.toggleOffResult()}} />\r\n            )\r\n            })}\r\n        </div>\r\n    )\r\n    }\r\n\r\n    toggleResult = () => {\r\n        this.setState({toggleResult:true});\r\n    }\r\n\r\n    toggleOffResult = () => {\r\n        this.setState({toggleResult:false});\r\n    }\r\n\r\n    // Compute the probability that someone is hospitalized, goes to ICU, and dies.\r\n    computeResult = () => {\r\n        /*\r\n\t\tFormulas :\r\n\t\t- Mean number of people hospitalized : sum(p_hosp)\r\n        - Probability that at least one person is hospitalized : 1 - prod(1-p_hosp)\r\n        - Attention, les risques sont entrés par les gens sous forme de pourcentages !!\r\n\t\t*/\r\n\t\tvar risk = 1.0;\r\n\t\tvar hospRisk = 1.0;\r\n\t\tvar reaRisk = 1.0;\r\n\t\tvar deathRisk = 1.0;\r\n\t\tvar moyenneHosp = 0.0;\r\n\t\tvar moyenneRea = 0.0;\r\n\t\tvar moyenneDeaths = 0.0;\r\n        var i;\r\n        var interaction = new InteractionOne(\"Family gathering\", this.state.duration, this.state.masks, this.state.masks,\r\n            this.state.talking, this.state.outdoors, this.state.distance);\r\n        var interactionRisk = interaction.getActivityRisk();\r\n        // Using the risk from the calculator.\r\n        // We only compute the risk for his family.\r\n        risk = risk *(1-this.state.globalRisk);\r\n\t\tfor(var key in this.state.people){\r\n            // The risk passed by the person via the simulator.\r\n\t\t\tvar myRisk = this.state.people[key][1] / 100\r\n\t\t\t// We update the probability that no-one has the disease\r\n            risk = risk * (1-myRisk);\r\n\t\t\tfor(var current in this.state.people){\r\n                if(current != key){\r\n                    // Updating the risk for person i by taking into account the possible\r\n\t\t\t\t    // contamination by person j.\r\n\t\t\t\t    myRisk = myRisk + (1-myRisk)*interactionRisk*this.state.people[current][1]/100;\r\n                }\r\n            }\r\n            myRisk = myRisk + (1-myRisk)*interactionRisk*this.state.globalRisk;\r\n\t\t\tvar hospProba = this.state.people[key][0][0]\r\n\t\t\tvar reaProba = this.state.people[key][0][1]\r\n\t\t\tvar deathProba = this.state.people[key][0][2]\r\n\t\t\t// Updating the proba that no-one gets hospitalized\r\n\t\t\thospRisk = hospRisk * (1 - myRisk*hospProba);\r\n\t\t\treaRisk = reaRisk * (1 - myRisk*hospProba*reaProba)\r\n\t\t\tdeathRisk = deathRisk  *(1 - myRisk*hospProba*deathProba)\r\n\t\t\t// Updating the average number of hospitalizations\r\n\t\t\tmoyenneHosp = moyenneHosp + myRisk*hospProba\r\n\t\t\tmoyenneRea = moyenneRea + myRisk*hospProba*reaProba\r\n\t\t\tmoyenneDeaths = moyenneDeaths + myRisk*hospProba*deathProba\r\n\t\t}\r\n\t\trisk = 1-risk;\r\n\t\thospRisk = 1-hospRisk;\r\n\t\treaRisk = 1-reaRisk;\r\n        deathRisk = 1-deathRisk;\r\n        var res = \r\n\t\tthis.setState({result:[risk, hospRisk, reaRisk, deathRisk, moyenneHosp, moyenneRea, moyenneDeaths]});\r\n    }\r\n\r\n    showResult = () => {\r\n        this.refResult.current.scrollIntoView({ behavior: \"smooth\" });\r\n        const result = this.state.result;\r\n        const pop_restante = 66000000 * 0.9; // 66millions moins les environ 10 à 15% déjà infectés.\r\n        var n_pers = 0;\r\n        var nb_christmas\r\n\r\n        if(this.state.globalRisk !=0){\r\n            n_pers = n_pers + 1;\r\n        }\r\n        n_pers = n_pers + Object.keys(this.state.people).length;\r\n        if(n_pers==0)\r\n        {\r\n            nb_christmas=0;\r\n        }\r\n        else{\r\n            nb_christmas = pop_restante * 0.75 /n_pers; // 70% vont à une réunion familiale, et chacun fait comme moi.\r\n        }\r\n        return (\r\n        <div id =\"family_result\">\r\n        <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            Bilan sur la France : <br /> <br/>\r\n            <div className=\"visible_except_mobile\">\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={4}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                        {Math.round(result[4]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                        hospitalisations\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[5]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    réanimationss\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[6]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    morts\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n            </Grid>\r\n            </div>\r\n            <div className=\"visible_mobile_only\">\r\n            <Grid container spacing={1}>\r\n                <Grid item xs={12}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                        {Math.round(result[4]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                        hospitalisations\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[5]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    réas\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[6]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    morts\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n            </Grid>\r\n            </div>\r\n        </Box>\r\n      </div>\r\n      )\r\n\r\n    }\r\n\r\n    handleGlobalRisk = (event) => {\r\n        this.setState({globalRisk: Number(event.target.value)/100});\r\n    }\r\n\r\n    showMyRisk = () => {\r\n        return (\r\n            <div className=\"showMyRisk\">\r\n            <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\r\n                <Grid item>\r\n                Mon risque :\r\n                </Grid>\r\n                <Grid item><TextField id=\"outlined-basic\" style={{width: 70}} type=\"number\"\r\n\t\t\tInputLabelProps={{shrink: true,}} label=\"Risque\" variant=\"outlined\" defaultValue={Math.round(this.state.globalRisk*10000)/100} onChange={this.handleGlobalRisk} />\r\n                </Grid>\r\n                <Grid item>\r\n                %\r\n                </Grid>\r\n            </Grid>\r\n            </Box>\r\n            </div>            \r\n        )\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n        <div className=\"risk_calculator\">\r\n         <Grid container spacing={1} justify=\"center\" alignitems=\"center\">\r\n                {this.state.peopleCards}\r\n        </Grid>\r\n            <div className=\"addActivity_buttons\">\r\n            <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\r\n                <Grid item>\r\n                <Fab\r\n                    onClick={() => {this.addPerson(this.defaultPersonArgs)}}\r\n                    color=\"primary\"\r\n                    variant=\"extended\"\r\n                >\r\n                    <AddIcon />\r\n                    <Box p=\"0.5rem\">Personne</Box>\r\n                </Fab>\r\n                </Grid>\r\n                <Grid item>\r\n                <Fab onClick={() => {this.clearAll(); this.toggleOffResult();}} color=\"secondary\" variant=\"extended\">\r\n                    <CachedIcon />\r\n                    <Box p=\"0.5rem\">Reset</Box>\r\n                </Fab>\r\n                </Grid>\r\n            </Grid>\r\n            </Box>\r\n            </div>\r\n            <div className=\"addActivity_buttons\">\r\n            <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\r\n                <Grid item>\r\n                <Fab\r\n                    onClick={() => {this.toggleResult(); this.computeResult()}}\r\n                    variant=\"extended\"\r\n                >\r\n                    <TouchAppIcon />\r\n                    <Box p=\"0.5rem\">Calculer le bilan</Box>\r\n                </Fab>\r\n                </Grid>\r\n            </Grid>\r\n            </Box>\r\n            </div>\r\n            {this.showMyRisk()}\r\n            <div id=\"premade_profiles\">\r\n                {this.generatePremadeCards()}\r\n            </div>  \r\n            <div ref={this.refResult}>\r\n            {this.state.toggleResult && this.showResult()}\r\n            </div>\r\n            <br/><br/>\r\n            <div className=\"disclaimer\">\r\n                <h3>Disclaimer</h3>\r\n                Ce site n'a pas fait l'objet d'un processus de revue par des pairs, et représente donc\r\n                uniquement les estimations des auteurs étant donné les connaissances à leur disposition. Nous ne sommes en aucun cas des experts de ce sujet, même si nous avons lu beaucoup de papiers d'experts. Ceci n'est pas une source primaire d'information\r\n                sur le COVID. N'utilisez pas les outils de ce site pour prendre des décisions médicales. Continuez à suivre les recommandations du gouvernement.\r\n                </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Gathering);","D:\\Dev\\covinsights\\src\\reportWebVitals.js",[],["253","254"],"D:\\Dev\\covinsights\\src\\css\\index.js",[],["255","256"],"D:\\Dev\\covinsights\\src\\components\\Calculator\\MyMath.js",["257"],"class Interaction{\r\n\tconstructor(name){\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tgetRisk(){\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nclass InteractionOne extends Interaction{\r\n\tconstructor(name=\"an activity\", duration=60, maskA=false, maskB=false, talking=\"normal\", outdoors=false, distance=\"normal\"){\r\n\t\t/* A one on one interaction. Options are :\r\n\t\ttalking = \"normal\", \"loud\" (x3), \"quiet\" (/3)\r\n\t\toutdoors (/20)\r\n\t\tdistance = \"normal\", \"close\" (x2), \"long\" (/2) */\r\n\t\tsuper(name);\r\n\t\tthis.duration=duration;\r\n\t\tthis.maskA=maskA;\r\n\t\tthis.maskB=maskB;\r\n\t\tthis.talking = talking;\r\n\t\tthis.outdoors=outdoors;\r\n\t\tthis.distance=distance;\r\n\t\tthis.hours = Math.floor(duration/60);\r\n\t\tthis.minutes = duration % 60;\r\n\t}\r\n\t\r\n\tsetMask(maskA,maskB){\r\n\t\tthis.maskA = maskA;\r\n\t\tthis.maskB = maskB;\r\n\t}\r\n\t\r\n\t// Returns the risk of contamination if the other has the disease.\r\n\tgetActivityRisk(){\r\n\t\tvar risk = 0.06\r\n\t\tif (this.maskA){\r\n\t\t\trisk = risk / 2;\r\n\t\t}\r\n\t\tif (this.maskB){\r\n\t\t\trisk = risk / 4;\r\n\t\t}\r\n\t\tif (this.outdoors){\r\n\t\t\trisk = risk / 20;\r\n\t\t}\r\n\t\tif (this.talking === \"loud\"){\r\n\t\t\trisk = risk * 5;\r\n\t\t}\r\n\t\tif (this.talking === \"quiet\"){\r\n\t\t\trisk = risk / 5;\r\n\t\t}\r\n\t\tif (this.distance ===\"close\"){\r\n\t\t\trisk = risk * 2;\r\n\t\t}\r\n\t\tif (this.distance === \"long\"){\r\n\t\t\trisk = risk /2;\r\n\t\t}\r\n\t\tif (this.distance === \"veryLong\"){\r\n\t\t\trisk = risk /4;\r\n\t\t}\r\n\t\tvar finalRisk = 0\r\n\t\t// Adapting the risk to the duration. 6% chance of contamination per hour.\r\n\t\tvar i;\r\n\t\tfor (i=0; i< this.hours; i++){\r\n\t\t\tfinalRisk = finalRisk + (1-finalRisk)*risk;\r\n\t\t}\r\n\t\tfinalRisk = finalRisk + (1-finalRisk)*risk*this.minutes/60;\r\n\t\treturn finalRisk;\r\n\t}\r\n}\r\n\r\nclass InteractionCrowd extends Interaction{\r\n\tconstructor(name=\"an activity\", duration=60, nb_people=1, mask=false, maskProportion=0., talking=\"normal\", outdoors=false, distance=\"normal\"){\r\n\t\tsuper(name);\r\n\t\tthis.duration=duration;\r\n\t\tthis.nb_people = nb_people;\r\n\t\tthis.mask = mask;\r\n\t\tthis.maskProportion = maskProportion;\r\n\t\tthis.talking = talking;\r\n\t\tthis.outdoors=outdoors;\r\n\t\tthis.distance=distance;\r\n\t\tthis.hours = Math.floor(duration/60);\r\n\t\tthis.minutes = duration % 60;\r\n\t}\r\n\t\r\n\tgetActivityRisk(){\r\n\t\tvar risk = 0.06\r\n\t\tif (this.mask){\r\n\t\t\trisk = risk / 2;\r\n\t\t}\r\n\t\trisk = risk * (1 - 0.75 * this.maskProportion);\r\n\t\tif (this.outdoors){\r\n\t\t\trisk = risk / 20;\r\n\t\t}\r\n\t\tif (this.talking === \"loud\"){\r\n\t\t\trisk = risk * 5;\r\n\t\t}\r\n\t\tif (this.talking === \"quiet\"){\r\n\t\t\trisk = risk / 5;\r\n\t\t}\r\n\t\tif (this.distance ===\"close\"){\r\n\t\t\trisk = risk * 2;\r\n\t\t}\r\n\t\tif (this.distance === \"long\"){\r\n\t\t\trisk = risk /2;\r\n\t\t}\r\n\t\tif (this.distance === \"veryLong\"){\r\n\t\t\trisk = risk /4;\r\n\t\t}\r\n\t\tvar finalRisk = 0;\r\n\t\tvar totalRisk = 0;\r\n\t\t// Adapting the risk to the duration. 6% chance of contamination per hour.\r\n\t\tvar i;\r\n\t\tvar j;\r\n\t\tfor (i=0; i< this.hours; i++){\r\n\t\t\ttotalRisk = totalRisk + (1-totalRisk)*risk;\r\n\t\t}\r\n\t\ttotalRisk = totalRisk + (1-totalRisk)*risk*this.minutes/60;\r\n\t\t// Hardcap à 0.5 pour chaque activité individuelle.\r\n\t\tif(totalRisk>0.5){\r\n\t\t\ttotalRisk=0.5;\r\n\t\t}\r\n\t\tfor(j=0; j<this.nb_people; j++){\r\n\t\t\tfinalRisk = finalRisk + (1-finalRisk)*totalRisk;\r\n\t\t}\r\n\t\treturn finalRisk;\r\n\t}\r\n}\r\n\r\nclass Universe{\r\n\t/*\r\n\tThe universe class contains the prevalence at time, as well as the\r\n\tprobabilities of changing state. There should be a common universe to\r\n\tall persons and activities in an experiment, for easy update.\r\n\t*/\r\n\tconstructor(prevalence){\r\n\t\tthis.prevalence = prevalence;\r\n\t}\r\n\t\r\n\tsetPrevalence(prevalence){\r\n\t\tthis.prevalence = prevalence;\r\n\t}\r\n\t/*\r\n\t- Probability of being hospitalized if infected;\r\n\t- Probability of needing ICU if hospitalized;\r\n\t- Probability of dying if hospitalized.\r\n\tAll the numbers come from the paper of Institut Pasteur :\r\n\t\"Estimating the burden of SARS-CoV-2 in France\"\r\n\thttps://hal-pasteur.archives-ouvertes.fr/pasteur-02548181/document\r\n\t*/\r\n\tageFactors(age=\"20\", gender=\"ND\"){\r\n\t\tvar hospAgeFactor, reaAgeFactor, deathAgeFactor;\r\n\t\tif(gender===\"M\"){\r\n\t\t\tif (age < 20){\r\n\t\t\t\thospAgeFactor = 0.1;\r\n\t\t\t\treaAgeFactor = 17.5;\r\n\t\t\t\tdeathAgeFactor = 1.2;\r\n\t\t\t}\r\n\t\t\telse if (age < 30){\r\n\t\t\t\thospAgeFactor = 0.6;\r\n\t\t\t\treaAgeFactor = 12.2;\r\n\t\t\t\tdeathAgeFactor = 1.3;\r\n\t\t\t}\r\n\t\t\telse if (age < 40){\r\n\t\t\t\thospAgeFactor = 1.2;\r\n\t\t\t\treaAgeFactor = 17.2;\r\n\t\t\t\tdeathAgeFactor = 2.5;\r\n\t\t\t}\r\n\t\t\telse if (age < 50){\r\n\t\t\t\thospAgeFactor = 1.6;\r\n\t\t\t\treaAgeFactor = 24.3;\r\n\t\t\t\tdeathAgeFactor = 3.9;\r\n\t\t\t}\r\n\t\t\telse if (age < 60){\r\n\t\t\t\thospAgeFactor = 3.2;\r\n\t\t\t\treaAgeFactor = 31.7;\r\n\t\t\t\tdeathAgeFactor = 7.5;\r\n\t\t\t}\r\n\t\t\telse if (age < 70){\r\n\t\t\t\thospAgeFactor = 7.0;\r\n\t\t\t\treaAgeFactor = 36.4;\r\n\t\t\t\tdeathAgeFactor = 14.2;\r\n\t\t\t}\r\n\t\t\telse if (age < 80){\r\n\t\t\t\thospAgeFactor = 11.4;\r\n\t\t\t\treaAgeFactor = 29.0;\r\n\t\t\t\tdeathAgeFactor = 25.3;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thospAgeFactor = 31.4;\r\n\t\t\t\treaAgeFactor = 5.7;\r\n\t\t\t\tdeathAgeFactor = 42.0;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(gender===\"F\"){\r\n\t\t\tif (age<20){\r\n\t\t\t\thospAgeFactor = 0.09;\r\n\t\t\t\treaAgeFactor = 8.5;\r\n\t\t\t\tdeathAgeFactor = 0.;\r\n\t\t\t}\r\n\t\t\telse if (age<30){\r\n\t\t\t\thospAgeFactor = 0.5;\r\n\t\t\t\treaAgeFactor = 6.8;\r\n\t\t\t\tdeathAgeFactor = 1.4;\r\n\t\t\t}\r\n\t\t\telse if (age<40){\r\n\t\t\t\thospAgeFactor = 0.9;\r\n\t\t\t\treaAgeFactor = 10.4;\r\n\t\t\t\tdeathAgeFactor = 1.6;\r\n\t\t\t}\r\n\t\t\telse if (age<50){\r\n\t\t\t\thospAgeFactor = 1.3;\r\n\t\t\t\treaAgeFactor = 14.3;\r\n\t\t\t\tdeathAgeFactor = 3.2;\r\n\t\t\t}\r\n\t\t\telse if (age<60){\r\n\t\t\t\thospAgeFactor = 2.5;\r\n\t\t\t\treaAgeFactor = 19.0;\r\n\t\t\t\tdeathAgeFactor = 6.4;\r\n\t\t\t}\r\n\t\t\telse if (age<70){\r\n\t\t\t\thospAgeFactor = 5.3;\r\n\t\t\t\treaAgeFactor = 21.6;\r\n\t\t\t\tdeathAgeFactor = 12.0;\r\n\t\t\t}\r\n\t\t\telse if (age<80){\r\n\t\t\t\thospAgeFactor = 8.0;\r\n\t\t\t\treaAgeFactor = 17.0;\r\n\t\t\t\tdeathAgeFactor = 20.7;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thospAgeFactor = 15.9;\r\n\t\t\t\treaAgeFactor = 3.4;\r\n\t\t\t\tdeathAgeFactor = 34.0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// si gender non défini on met la moyenne\r\n\t\telse{\r\n\t\t\tif (age<20){\r\n\t\t\t\thospAgeFactor = 0.1;\r\n\t\t\t\treaAgeFactor = 13.5;\r\n\t\t\t\tdeathAgeFactor = 0.6;\r\n\t\t\t}\r\n\t\t\telse if (age<30){\r\n\t\t\t\thospAgeFactor = 0.5;\r\n\t\t\t\treaAgeFactor = 9.8;\r\n\t\t\t\tdeathAgeFactor = 1.4;\r\n\t\t\t}\r\n\t\t\telse if (age<40){\r\n\t\t\t\thospAgeFactor = 1.0;\r\n\t\t\t\treaAgeFactor = 14.1;\r\n\t\t\t\tdeathAgeFactor = 2.1;\r\n\t\t\t}\r\n\t\t\telse if (age<50){\r\n\t\t\t\thospAgeFactor = 1.5;\r\n\t\t\t\treaAgeFactor = 19.8;\r\n\t\t\t\tdeathAgeFactor = 3.6;\r\n\t\t\t}\r\n\t\t\telse if (age<60){\r\n\t\t\t\thospAgeFactor = 2.8;\r\n\t\t\t\treaAgeFactor = 25.9;\r\n\t\t\t\tdeathAgeFactor = 7.0;\r\n\t\t\t}\r\n\t\t\telse if (age<70){\r\n\t\t\t\thospAgeFactor = 6.1;\r\n\t\t\t\treaAgeFactor = 29.7;\r\n\t\t\t\tdeathAgeFactor = 13.2;\r\n\t\t\t}\r\n\t\t\telse if (age<80){\r\n\t\t\t\thospAgeFactor = 9.6;\r\n\t\t\t\treaAgeFactor = 23.5;\r\n\t\t\t\tdeathAgeFactor = 23.2;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thospAgeFactor = 21.7;\r\n\t\t\t\treaAgeFactor = 4.6;\r\n\t\t\t\tdeathAgeFactor = 38.4;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [hospAgeFactor/100, reaAgeFactor/100, deathAgeFactor/100];\t\r\n\t}\r\n}\r\n\r\nclass BasicUniverse extends Universe{\r\n\tconstructor(){\r\n\t\tsuper(0.010); // Prevalence in early November in France.\r\n\t}\r\n}\r\n\r\nclass RiskProfile{\r\n\tconstructor(type=\"basic\"){\r\n\t\tthis.type = type;\r\n\t}\r\n\t\r\n\tgetProfileRisk(){\r\n\t\treturn 1.0;\r\n\t}\r\n}\r\n\r\nclass NonWorkerRiskProfile extends RiskProfile{\r\n\tconstructor(){\r\n\t\tsuper(\"nonWorker\");\r\n\t}\r\n\tgetProfileRisk(){\r\n\t\treturn 1.0 / 3.0;\r\n\t}\r\n}\r\n\r\nclass WorkerRiskProfile extends RiskProfile{\r\n\tconstructor(){\r\n\t\tsuper(\"worker\");\r\n\t}\r\n\tgetProfileRisk(){\r\n\t\treturn 3.0;\r\n\t}\r\n}\r\n\r\nclass Activity{\r\n\t/* An activity is an interaction plus a risk profile.\r\n\tWe can access the total risk or just the one related to the interaction. */\r\n\tconstructor(interaction, riskProfile=new RiskProfile(), universe = new BasicUniverse()){\r\n\t\tthis.interaction = interaction;\r\n\t\tthis.riskProfile = riskProfile;\r\n\t\tthis.universe = universe;\r\n\t}\r\n\t\r\n\tgetRisk(){\r\n\t\treturn this.interaction.getActivityRisk() * this.riskProfile.getProfileRisk() * this.universe.prevalence;\r\n\t}\r\n\t\r\n\tgetActivityRisk(){\r\n\t\treturn this.interaction.getActivityRisk() * this.riskProfile.getProfileRisk();\r\n\t}\r\n}\r\n\r\nclass Person extends RiskProfile{\r\n\tconstructor(name, age, gender=\"ND\", activity_list=[], universe = new BasicUniverse()){\r\n\t\tsuper(universe);\r\n\t\tthis.name = name;\r\n\t\tthis.age = age;\r\n\t\tthis.gender = gender;\r\n\t\tthis.activityList = activity_list;\r\n\t\tthis.universe = universe;\r\n\t\tthis.ageFactors = this.universe.ageFactors(this.age, this.gender);\r\n\t}\r\n\t\r\n\taddActivity(activity){\r\n\t\tthis.activityList.push(activity);\r\n\t}\r\n\t\r\n\taddInteraction(interaction){\r\n\t\tthis.activityList.append(Activity(interaction));\r\n\t}\r\n\t\r\n\tclearActivityList(){\r\n\t\t// Javascript has a garbage collector so no need to care about memory release.\r\n\t\tthis.activityList = [];\r\n\t}\r\n\t\r\n\tgetRisk(){\r\n\t\t// Returns the probability of having the disease\r\n\t\tvar risk=0;\r\n\t\tif(this.activityList === undefined || this.activityList.length === 0)\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tvar i=0;\r\n\t\tfor(i=0; i<this.activityList.length; i++)\r\n\t\t{\r\n\t\t\trisk = risk + (1-risk)*this.activityList[i].getRisk();\r\n\t\t}\r\n\t\treturn risk*this.universe.prevalence;\r\n\t}\r\n\t\r\n\tgetProfileRisk(){\r\n\t\t// Returns how many time the person is more risky than the average.\r\n\t\t// Multiply par the universe prevalence to get the risk.\r\n\t\tvar risk=0;\r\n\t\tif(this.activityList === undefined || this.activityList.length === 0)\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tvar i=0;\r\n\t\tfor(i=0; i<this.activityList.length; i++)\r\n\t\t{\r\n\t\t\trisk = risk + (1-risk)*this.activityList[i].getActivityRisk();\r\n\t\t}\r\n\t\treturn risk;\r\n\t}\r\n\t\r\n\tcomputeAgeDangerProfile(){\r\n\t\t// Probability of catching the disease, being hospitalized, ICU, death.\r\n\t\tvar risk = this.getRisk();\r\n\t\tvar riskHosp = risk * this.ageFactors[0];\r\n\t\tvar riskRea = riskHosp * this.ageFactors[1];\r\n\t\tvar riskDeath = riskHosp * this.ageFactors[2];\r\n\t\treturn [risk, riskHosp, riskRea, riskDeath];\r\n\t}\r\n}\r\n\r\nclass PersonWithRisk extends Person{\r\n\tconstructor(name, age=20, gender=\"ND\", risk=0, universe=new BasicUniverse())\r\n\t{\r\n\t\tsuper(name, age, gender, [], universe);\r\n\t\tthis.risk=risk;\r\n\t}\r\n\r\n\tgetRisk(){\r\n\t\treturn this.risk * this.universe.prevalence;\r\n\t}\r\n}\r\n\r\n// Recreating the defaultdict from python.\r\nclass DefaultDict {\r\n  constructor(defaultVal) {\r\n    return new Proxy({}, {\r\n      get: (target, name) => name in target ? target[name] : defaultVal\r\n    })\r\n  }\r\n}\r\n\r\nclass GroupReunion{\r\n\t/*\r\n\tSimulating a family gathering. The mask policy can be \"none\", \"all\", or \"under50\".\r\n\tIn the latter, only the people younger than 50 wear a mask.\r\n\tOutput : the probability that at least one person is sick, hospitalized or dies,\r\n\tas well as the average number of hospitalizations, ICU or death.\r\n\tFinally, we estimate the number of family gatherings and compute the\r\n\tcount for the whole country, as the \"cost\" of christmas.\r\n\t*/\r\n\tconstructor(duration=60, maskPolicy=\"none\", distance=\"normal\", outdoors=false, talking=\"normal\", personList=[]){\r\n\t\tthis.duration = duration;\r\n\t\tthis.maskPolicy = maskPolicy;\r\n\t\tthis.distance = distance;\r\n\t\tthis.outdoors = outdoors;\r\n\t\tthis.talking = talking;\r\n\t\tthis.personList = personList;\r\n\t\tthis.generateMasked();\r\n\t\t// We use a one-on-one interaction to compute the various risks.\r\n\t\tthis.interaction = new InteractionOne(\"meeting\", this.duration, false, false, this.talking, this.outdoors, this.distance);\r\n\t\t// *** TODO *** Ajouter le calcul du profil de risque.\r\n\t}\r\n\t\r\n\tgenerateMasked(){\r\n\t\t// Compute who wears a mask according to the mask policy.\r\n\t\tthis.masked = new DefaultDict(false);\r\n\t\tif(this.maskPolicy===\"all\"){\r\n\t\t\tthis.masked = new DefaultDict(true);\r\n\t\t}\r\n\t\telse if(this.maskPolicy===\"under50\"){\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(i=0; i<this.personList.length;i++){\r\n\t\t\t\tif(this.personList[i].age < 50){\r\n\t\t\t\t\tthis.masked[i] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\taddPerson(p){\r\n\t\tthis.personList.push(p);\r\n\t}\r\n\t\r\n\tupdate(){\r\n\t\tthis.generateMasked();\r\n\t\t// *** TODO *** Ajouter le calcul de this.riskProfile\r\n\t}\r\n\t\r\n\tcomputeRiskProfile(){\r\n\t\t/*\r\n\t\tFormulas :\r\n\t\t- Mean number of people hospitalized : sum(p_hosp)\r\n\t\t- Probability that at least one person is hospitalized : 1 - prod(1-p_hosp)\r\n\t\t*/\r\n\t\tvar risk = 1.0;\r\n\t\tvar hospRisk = 1.0;\r\n\t\tvar reaRisk = 1.0;\r\n\t\tvar deathRisk = 1.0;\r\n\t\tvar moyenneHosp = 0.0;\r\n\t\tvar moyenneRea = 0.0;\r\n\t\tvar moyenneDeaths = 0.0;\r\n\t\tvar i;\r\n\t\tfor(i=0; i<this.personList.length;i++){\r\n\t\t\tvar myRisk = this.personList[i].get_risk();\r\n\t\t\t// We update the probability that no-one has the disease\r\n\t\t\trisk = risk * (1-myRisk);\r\n\t\t\tvar j;\r\n\t\t\tfor(j=0; j<this.personList.length; j++){\r\n\t\t\t\tthis.interaction.setMask(this.masked[i], this.masked[j]);\r\n\t\t\t\t// Updating the risk for person i by taking into account the possible\r\n\t\t\t\t// contamination by person j.\r\n\t\t\t\tmyRisk = myRisk + (1-myRisk)*this.interaction.getActivityRisk()*this.personList[j].getRisk();\r\n\t\t\t}\r\n\t\t\tvar hospProba = this.personList[i].ageFactors[0];\r\n\t\t\tvar reaProba = this.personList[i].ageFactors[1];\r\n\t\t\tvar deathProba = this.personList[i].ageFactors[2];\r\n\t\t\t// Updating the proba that no-one gets hospitalized\r\n\t\t\thospRisk = hospRisk * (1 - myRisk*hospProba);\r\n\t\t\treaRisk = reaRisk * (1 - myRisk*hospProba*reaProba)\r\n\t\t\tdeathRisk = deathRisk  *(1 - myRisk*hospProba*deathProba)\r\n\t\t\t// Updating the average number of hospitalizations\r\n\t\t\tmoyenneHosp = moyenneHosp + myRisk*hospProba\r\n\t\t\tmoyenneRea = moyenneRea + myRisk*hospProba*reaProba\r\n\t\t\tmoyenneDeaths = moyenneDeaths + myRisk*hospProba*deathProba\r\n\t\t}\r\n\t\trisk = 1-risk;\r\n\t\thospRisk = 1-hospRisk;\r\n\t\treaRisk = 1-reaRisk;\r\n\t\tdeathRisk = 1-deathRisk;\r\n\t\treturn [risk, hospRisk, reaRisk, deathRisk, moyenneHosp, moyenneRea, moyenneDeaths];\r\n\t}\r\n}\r\n\r\nexport {Interaction, InteractionCrowd, InteractionOne, BasicUniverse, Activity, Person, Universe, GroupReunion, RiskProfile, NonWorkerRiskProfile, WorkerRiskProfile};","D:\\Dev\\covinsights\\src\\components\\Body.js",["258"],"import React from \"react\";\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n/*\r\nThe Paper will be hidden on mobile, and serves to contrast\r\nwith the background in a blog-like style.\r\n*/\r\n\r\nconst Body = ({ children }) => {\r\n        return (\r\n            <div className=\"behind_body\">\r\n                    <Paper elevation={3} className=\"paper_body\">\r\n                    <div className=\"inside_body\">\r\n                {children}\r\n                    </div>\r\n                    </Paper>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Body;","D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskForm.js",["259"],"import React, { Children, Component } from \"react\"\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Box from \"@material-ui/core/Box\"\r\nimport { IconButton, Button } from \"@material-ui/core\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport {CustomActivity, BasicUniverse, RiskProfile, WorkerRiskProfile, NonWorkerRiskProfile} from './NewMath.js';\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 80,\r\n  },\r\n    root: {\r\n    display: 'flex',\r\n    pt: \"3rem\",\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      margin: theme.spacing(0.5),\r\n    },\r\n  },\r\n});\r\n\r\nconst propsForForm = {\r\n  bgcolor: \"background.paper\",\r\n  borderColor: \"text.primary\",\r\n  m: \"auto\",\r\n  border: 0,\r\n  style: { width: \"17rem\", height: \"35rem\" },\r\n  boxShadow: 3,\r\n  mx: \"auto\",\r\n  px: \"1rem\",\r\n  pt: \"2rem\",\r\n}\r\n\r\nconst propsForDisplay = {\r\n  bgcolor: \"background.paper\",\r\n  borderColor: \"text.primary\",\r\n  m: \"auto\",\r\n  border: 0,\r\n  style: { width: \"16rem\", height: \"5rem\" },\r\n  boxShadow: 3,\r\n  mx: \"auto\",\r\n  px: \"1rem\",\r\n  position:\"relative\",\r\n  bottom:\"2rem\"\r\n}\r\n\r\nclass RiskForm extends Component {\r\n  state = {\r\n    showForm: this.props.showForm,\r\n    id: this.props.id,\r\n    name: this.props.name,\r\n    duration: this.props.duration,\r\n    wearMask: this.props.wearMask,\r\n    nbPeople: this.props.nbPeople,\r\n    nbMasked:this.props.nbMasked,\r\n    location:this.props.location,\r\n    talking: this.props.talking,\r\n    distance: this.props.distance,\r\n    riskProfile: this.props.riskProfile,\r\n    heures:Math.floor(this.props.duration/60),\r\n    minutes:this.props.duration % 60,\r\n    activity:{},\r\n    universe: new BasicUniverse(),\r\n  }\r\n\r\n  setActivityRisk = () => {\r\n    // setting the duration.\r\n    var newDuration = 60*this.state.heures + this.state.minutes;\r\n    this.setState({duration:newDuration})\r\n    var maskProportion = 0;\r\n    if(this.state.nbMasked === 0)\r\n    {\r\n      maskProportion = 0;\r\n    }\r\n    else{\r\n      maskProportion = this.state.nbPeople / this.state.nbMasked;\r\n    }\r\n    var profile = new RiskProfile();\r\n    // Note that the cap at 50% is before applying the profile.\r\n    // The risk profile represents a variation in the prevalence, not the\r\n    // activity itself.\r\n    if(this.state.riskProfile === \"worker\")\r\n    {\r\n      profile = new WorkerRiskProfile();\r\n    }\r\n   if(this.state.riskProfile === \"nonWorker\")\r\n    {\r\n      profile = new NonWorkerRiskProfile();\r\n    }\r\n    var myActivity = new CustomActivity(this.state.name, newDuration, this.state.nbPeople,\r\n        this.state.wearMask, maskProportion, this.state.talking, this.state.location, this.state.distance, profile);\r\n    this.setState({activity:myActivity});\r\n    this.props.updateRisk(this.props.id[0], myActivity);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setActivityRisk();\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.checked })\r\n  }\r\n\r\n  handleNameField = (e) => {\r\n    this.setState({\r\n      name: e.target.value\r\n  });\r\n  }\r\n\r\n  handleNbPeople = (event) => {\r\n    this.setState({nbPeople:Number(event.target.value)});\r\n  };\r\n\r\n  handleNbMasked = (event) => {\r\n    this.setState({nbMasked:Number(event.target.value)});\r\n  };\r\n\r\n  handleHours = (event) => {\r\n    this.setState({heures:Number(event.target.value)})\r\n  }\r\n\r\n  handleMinutes = (event) => {\r\n    this.setState({minutes:Number(event.target.value)});\r\n  }\r\n\r\n  handleTalking = (event) => {\r\n    this.setState({talking:event.target.value});\r\n  };\r\n\r\n  handleDistance = (event) => {\r\n    this.setState({distance:event.target.value});\r\n  };\r\n\r\n  handleRiskProfile = (event) => {\r\n    this.setState({riskProfile:event.target.value});\r\n  };\r\n\r\n  handleLocation = (event) => {\r\n    this.setState({location: event.target.value});\r\n  }\r\n\r\n  generateNbPeople1 = (i) => {\r\n    return (\r\n    <option value={i}>{i}</option>\r\n    );\r\n  }\r\n\r\n  generateNbPeople = () => {\r\n    const numbers = [0,1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n    return numbers.map((number) => this.generateNbPeople1(number));\r\n  }\r\n\r\n  showForm = () => {\r\n    return (\r\n      <div className=\"risk_form\">\r\n      <Tooltip title=\"Modifier\">\r\n      <IconButton className=\"edit_button\" aria-label=\"delete\" size=\"small\" onClick={() => {this.setState({ showForm: false }); this.props.edit()}}>\r\n        <EditIcon />\r\n      </IconButton>\r\n      </Tooltip>\r\n      <Box borderRadius={16} {...propsForDisplay}>\r\n          {this.props.children}\r\n          <div className=\"show_activity\">\r\n            {this.state.name}. {/*Risque : {this.state.risk} */}\r\n          </div>\r\n      </Box>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  showCreator = () => {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"risk_form_creator\">\r\n      <Box borderRadius={16} {...propsForForm}>\r\n            <Grid container spacing={1} justify=\"center\" className=\"form_activity_grid\">\r\n                  <Grid item className=\"grid_name_activity\">\r\n                      <TextField id=\"outlined-basic\" size=\"small\" style={{width: 180}} label=\"Nom de l'activité\" variant=\"outlined\" defaultValue={this.state.name} onChange={this.handleNameField} />\r\n                  </Grid>\r\n                  <Grid container spacing={1} justify=\"center\" className=\"form_inner_grid\">\r\n                      <Grid item>\r\n                          <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"heures\" variant=\"outlined\" defaultValue={this.state.heures} onChange={this.handleHours} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                          <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"minutes\" variant=\"outlined\" defaultValue={this.state.minutes} onChange={this.handleMinutes} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Endroit</InputLabel>\r\n                          <Select\r\n                            native \r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.location}\r\n                            onChange={this.handleLocation}\r\n                            label=\"Endroit\"\r\n                          >\r\n                            <option value=\"indoors\">Intérieur</option>\r\n                            <option value=\"outdoors\">Extérieur</option>\r\n                            <option value=\"train\">Train avec filtration de l'air</option>\r\n                            <option value=\"car\">Voiture en déplacement fenêtres ouvertes</option>\r\n                            <option value=\"plane\">Avion</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControlLabel\r\n                          control={<Checkbox color=\"primary\" checked={this.state.wearMask}\r\n                            onChange={this.handleChange}\r\n                            name=\"wearMask\"\r\n                            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                          />} label=\"Portez-vous un masque ?\" />\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"Nb people\" variant=\"outlined\" defaultValue={this.state.nbPeople} onChange={this.handleNbPeople} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"Masks\" variant=\"outlined\" defaultValue={this.state.nbMasked} onChange={this.handleNbMasked} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Conversation</InputLabel>\r\n                          <Select\r\n                            native \r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.talking}\r\n                            onChange={this.handleTalking}\r\n                            label=\"Nb people\"\r\n                          >\r\n                            <option value=\"normal\">Normale</option>\r\n                            <option value=\"quiet\">Sans parler</option>\r\n                            <option value=\"loud\">Forte</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Distance</InputLabel>\r\n                          <Select\r\n                            native \r\n                            style={{width: 90}}\r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.distance}\r\n                            onChange={this.handleDistance}\r\n                            label=\"Nb people\"\r\n                          >\r\n                            <option value=\"close\">Proche (&le;30cm)</option>\r\n                            <option value=\"normal\">Normale (1m)</option>\r\n                            <option value=\"long\">Longue (2m)</option>\r\n                            <option value=\"veryLong\">Très longue (&ge;3m)</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Risk profile</InputLabel>\r\n                          <Select\r\n                            native \r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.riskProfile}\r\n                            onChange={this.handleRiskProfile}\r\n                          >\r\n                            <option value=\"average\">Standard</option>\r\n                            <option value=\"worker\">Travailleur de première ligne</option>\r\n                            <option value=\"nonWorker\">Télétravaille</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                  </Grid>\r\n            </Grid>\r\n            <br/>\r\n            <div className={classes.root}>\r\n            <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={() => {this.setState({ showForm: true }); this.setActivityRisk()}}\r\n              >\r\n                {\" \"}\r\n                Submit\r\n              </Button>\r\n            </div>\r\n      </Box>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"riskForm_container\">\r\n          {this.state.showForm ? this.showForm() : this.showCreator()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(RiskForm);\r\n","D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\PersonCard.js",["260","261","262","263","264","265","266","267"],"import React, { Children, Component } from \"react\"\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Box from \"@material-ui/core/Box\"\r\nimport { IconButton, Button } from \"@material-ui/core\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport {InteractionCrowd, Activity, BasicUniverse, RiskProfile, WorkerRiskProfile, NonWorkerRiskProfile} from '../Calculator/MyMath.js';\r\n\r\nconst propsForForm = {\r\n  bgcolor: \"background.paper\",\r\n  borderColor: \"text.primary\",\r\n  m: \"auto\",\r\n  border: 0,\r\n  style: { width: \"18rem\", height: \"13rem\" },\r\n  boxShadow: 3,\r\n  mx: \"auto\",\r\n  pl: \"1rem\",\r\n  pr: \"2rem\",\r\n  pt: \"0rem\",\r\n}\r\n\r\nconst propsForDisplay = {\r\n  bgcolor: \"background.paper\",\r\n  borderColor: \"text.primary\",\r\n  m: \"auto\",\r\n  border: 0,\r\n  style: { width: \"16rem\", height: \"5rem\" },\r\n  boxShadow: 3,\r\n  mx: \"auto\",\r\n  px: \"1rem\",\r\n  position:\"relative\",\r\n  bottom:\"2rem\"\r\n}\r\n\r\nclass PersonCard extends Component {\r\n  state = {\r\n    showForm: this.props.showForm,\r\n    id: this.props.id,\r\n    name: this.props.name,\r\n    gender: this.props.gender,\r\n    age: this.props.age,\r\n    risk : this.props.risk,\r\n    activityRisk : 0,\r\n    universe: new BasicUniverse(),\r\n  }\r\n\r\n  handleNameField = (e) => {\r\n    this.setState({name: e.target.value});\r\n  }\r\n\r\n  handleGender = (e) => {\r\n      this.setState({gender:e.target.value});\r\n  }\r\n\r\n  handleAge = (e) => {\r\n      this.setState({age:Number(e.target.value)});\r\n  }\r\n\r\n  handleRisk = (e) => {\r\n      this.setState({risk:Number(e.target.value)});\r\n  }\r\n\r\n  showForm = () => {\r\n    return (\r\n        <div className=\"risk_form\">\r\n            <Tooltip title=\"Modifier\">\r\n            <IconButton className=\"edit_button\" aria-label=\"modify\" size=\"small\" onClick={() => this.setState({ showForm: false })}>\r\n            <EditIcon />\r\n            </IconButton>\r\n            </Tooltip>          \r\n        <Box borderRadius={16} {...propsForDisplay}>\r\n          {this.props.children}\r\n            <div className=\"show_activity\">\r\n                    {this.state.name}.\r\n            </div>\r\n        </Box>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  showCreator = () => {\r\n    return (\r\n        <Box borderRadius={16} {...propsForForm}>\r\n        <div className=\"person_delete_button_creator\">\r\n                <Tooltip title=\"Supprimer\">\r\n                <IconButton z-index={5000} aria-label=\"delete\" size=\"small\" onClick={() => this.props.delete()}>\r\n                <DeleteIcon />\r\n                </IconButton>\r\n                </Tooltip>\r\n        </div>\r\n        <Grid container spacing={1} justify=\"center\" className=\"form_activity_grid\">\r\n                <Grid item className=\"grid_name_activity\">\r\n                  <TextField id=\"outlined-basic\" size=\"small\" style={{width: 180}} label=\"Nom\" variant=\"outlined\" defaultValue={this.state.name} onChange={this.handleNameField} />\r\n                </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1} justify=\"center\" className=\"form_inner_grid\">\r\n                <Grid item>\r\n                          <TextField id=\"outlined-basic\" style={{width: 70}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"Age\" variant=\"outlined\" defaultValue={this.state.age} onChange={this.handleAge} />\r\n                </Grid>\r\n                <Grid item>\r\n                    <FormControl variant=\"outlined\">\r\n                        <InputLabel id=\"sexe-label\" left='5px'>Sexe</InputLabel>\r\n                        <Select\r\n                        native \r\n                        labelId=\"sexe-label\"\r\n                        label=\"Sexe\"\r\n                        variant=\"outlined\"\r\n                        id=\"demo-simple-select\"\r\n                        value={this.state.gender}\r\n                        onChange={this.handleGender}\r\n                        >\r\n                        <option value=\"F\">F</option>\r\n                        <option value=\"M\">M</option>\r\n                        <option value=\"ND\">ND</option>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item>\r\n                          <TextField id=\"outlined-basic\" style={{width: 70}} type=\"number\" label=\"Risque(%)\" variant=\"outlined\" defaultValue={this.state.risk} onChange={this.handleRisk} />\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        onClick={() => {this.setState({ showForm: true });\r\n                        this.props.updatePerson(this.state.id, this.state.age, this.state.gender, this.state.risk)}}\r\n                    >\r\n                        {\" \"}\r\n                        Submit\r\n                    </Button>\r\n                </Grid>\r\n        </Grid>\r\n  </Box>\r\n      )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"personCard_container\">\r\n          {this.state.showForm ? this.showForm() : this.showCreator()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default PersonCard;\r\n",["268","269"],"D:\\Dev\\covinsights\\src\\components\\Insights\\ComparisonRisks.js",["270","271"],"import React, {Component} from 'react';\r\nimport list_activities from '../constants/activities.js';\r\nimport { ScatterChart, CartesianGrid, XAxis, YAxis, Tooltip, Cell, Scatter, Label, ResponsiveContainer} from 'recharts';\r\nimport { CustomActivity, NonWorkerRiskProfile, WorkerRiskProfile, RiskProfile, BasicUniverse} from '../Calculator/NewMath.js';\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\nclass ComparisonRisk extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {actis:[], universe:new BasicUniverse()};\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        var myActis = this.state.actis;\r\n        for(var i=0; i<list_activities.length; i++){\r\n            var current = list_activities[i];\r\n            var profile = new RiskProfile();\r\n            if(current.riskProfile == \"worker\")\r\n            {\r\n                profile = new WorkerRiskProfile();\r\n            }\r\n            if(current.riskProfile == \"nonWorker\")\r\n            {\r\n                profile = new NonWorkerRiskProfile();\r\n            }\r\n            var a = new CustomActivity(current.name, current.duration, current.nbPeople, current.wearMask, current.nbMasked/current.nbPeople, current.talking, current.location, current.distance, profile);\r\n            var myActi = a.getRisk();\r\n            var myRisk = myActi[0] * this.state.universe.prevalence;\r\n            // Handle duration\r\n            var composedRisk = 1 - Math.pow((1-myRisk),myActi[1])*(1-myRisk*myActi[2]/60);\r\n            // We hardcap the risk from one single person to the household value, 0.5.\r\n\t\t\tif(composedRisk>0.5){\r\n\t\t\t\tcomposedRisk=0.5;\r\n\t\t\t}\r\n            // Handle nb people\r\n            var totalRisk = 1-Math.pow((1-composedRisk), myActi[3]);\r\n            // Do that for one year\r\n            totalRisk = 1-Math.pow((1-totalRisk),52);\r\n            myActis.push({name:current.name, risk:Math.round(totalRisk*10000000)/100000}); // En pourcentage\r\n        }\r\n        myActis.sort((a, b) => (a.risk > b.risk) ? 1 : -1);\r\n        this.setState({actis:myActis});\r\n        //console.log(myActis)\r\n    }\r\n\r\n    computeFill = (risk) => {\r\n        // Seuils de risque (1 an) : 0.5%, \r\n        if(risk<0.5)\r\n        {\r\n            return \"#82ca9d\"\r\n        }\r\n        if(risk>0.5 && risk<3)\r\n        {\r\n            return \"#F8E716\";\r\n        }\r\n        if(risk>3 && risk <10)\r\n        {\r\n            return 'orange';\r\n        }\r\n        else{\r\n            return 'red';\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div style={{textAlign:\"center\", alignItems:\"center\"}}>\r\n            <div className=\"recharts_wrapper\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <ScatterChart\r\n                margin={{ top: 20, right:15, bottom: 10, left: 40 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"risk\" type=\"number\" domain={['dataMin', 'dataMax']} scale=\"log\" ticks={ [0.5, 3, 10] }>\r\n                    <Label value=\"(log)\" position='right' offset={-20} />\r\n                </XAxis>\r\n                <YAxis dataKey=\"name\" type='category' interval={5} />\r\n                <Tooltip cursor={{ strokeDasharray: '3 3' }} />\r\n                <Scatter data={this.state.actis} fill={\"#82ca9d\"}>\r\n                {\r\n                    this.state.actis.map((entry, index) => {\r\n                        return <Cell key={`cell-${index}`} fill={this.computeFill(entry.risk)} />\r\n                    })\r\n                }\r\n                </Scatter>\r\n            </ScatterChart>\r\n            </ResponsiveContainer>\r\n            </div>    \r\n            <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\r\n                <Grid item>\r\n                    <span className=\"green-dot\"></span> risque {\"< 0.5\"} % sur un an.\r\n                </Grid>\r\n                <Grid item>\r\n                    <span className=\"yellow-dot\"></span> entre {\"0.5\"} et {\"3\"}%\r\n                </Grid>\r\n                <Grid item>\r\n                    <span className=\"orange-dot\"></span> entre {\"3\"} et {\"10\"}%\r\n                </Grid>\r\n                <Grid item>\r\n                    <span className=\"red-dot\"></span> {\">10\"} %\r\n                </Grid>\r\n            </Grid>  \r\n            <br/><br/><br/>\r\n            <div className=\"disclaimer\">\r\n            <h3>Disclaimer</h3>\r\n            Ce site n'a pas fait l'objet d'un processus de revue par des pairs, et représente donc\r\n            uniquement les estimations des auteurs étant donné les connaissances à leur disposition. Nous ne sommes en aucun cas des experts de ce sujet, même si nous avons lu beaucoup de papiers d'experts. Ceci n'est pas une source primaire d'information\r\n            sur le COVID. N'utilisez pas les outils de ce site pour prendre des décisions médicales. Continuez à suivre les recommandations du gouvernement.\r\n            </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ComparisonRisk;","D:\\Dev\\covinsights\\src\\pages\\insights.js",[],["272","273"],"D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskCalculator.js",["274"],"import React, { Component, lazy, Suspense } from \"react\"\r\nimport RiskForm from \"./RiskForm.js\"\r\nimport Fab from \"@material-ui/core/Fab\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\nimport Box from \"@material-ui/core/Box\"\r\nimport Chip from '@material-ui/core/Chip';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\nimport { IconButton} from \"@material-ui/core\"\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport list_activities from '../constants/activities.js';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport { Person } from \"./NewMath.js\"\r\nimport { NavLink } from 'react-router-dom';\r\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\r\nimport * as Scroll from 'react-scroll';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nconst load = (Component) => (props) => {\r\n  return (\r\n  <Suspense fallback={<CircularProgress />}>\r\n    <Component {...props}/>\r\n  </Suspense>\r\n  )\r\n}\r\n\r\nconst Evolution = load(lazy( () =>  import('./Evolution.js')));\r\n\r\n/*\r\n***** TODO *****\r\nFaire que le globalRisk soit envoyé non pas au calcul, mais quand on appuie\r\nsur un bouton \"what does it mean for a family reunion\"\r\n(qui link du même coup au family reunion)\r\n\r\n***** END TODO *****\r\n*/\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      margin: theme.spacing(0.5),\r\n    },\r\n  },\r\n});\r\n\r\nclass RiskCalculator extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {blockActivities: [], activities: {}, nextId:0, risk:0, toggleResult:false, person: new Person(),\r\n          evolution:()=><Evolution risk={0}/>, alpha:0.2, gamma:0.33}\r\n    this.defaultActivityArgs = {\r\n      name:\"Activité\",\r\n      wearMask: false,\r\n      duration:60,\r\n      nbPeople: 1,\r\n      nbMasked: 0,\r\n      location:\"indoors\",\r\n      talking: \"normal\",\r\n      distance: \"normal\",\r\n      riskProfile: \"normal\",\r\n      showForm:false,\r\n    }\r\n    this.refResult = React.createRef();\r\n  }\r\n\r\n  updateRisk = (id, acti) => {\r\n    var tabActis = this.state.activities;\r\n    tabActis[id] =acti;\r\n    this.setState({activities:tabActis});\r\n  }\r\n\r\n  getRisk = () => {\r\n    // Updates the risk, and resets and updates the Person\r\n    var p = this.state.person;\r\n    p.clearActivityList();\r\n    var result = 0;\r\n    var mySum=0;\r\n    for (var key in this.state.activities)\r\n    {\r\n      p.addActivity(this.state.activities[key]);\r\n    }\r\n    result = p.getRisk(); // The new risk\r\n\r\n    this.setState({risk:result, person:p, evolution:() => {return (<Evolution riskList={p.activityList} alpha={this.state.alpha} gamma={this.state.gamma} /> )}});\r\n    this.setState({toggleResult:true});\r\n    // Updating the global value of the risk in Navbar\r\n    // this.props.changeGlobalRisk(result);\r\n  }\r\n\r\n  toggleResult = () => {\r\n    this.setState({toggleResult:true});\r\n  }\r\n\r\n  toggleOffResult = () => {\r\n    this.setState({toggleResult:false});\r\n  }\r\n  \r\n  reset = (event) => {\r\n    this.setState({alpha:0.2, gamma:1/3});\r\n  }\r\n\r\n  // Affiche le résultat (appelé sur clic de calculer mon risque)\r\n  // Contient le lien vers le simulateur et lui transmet le risque.\r\n  showResult = () => {\r\n    this.refResult.current.scrollIntoView({ behavior: \"smooth\" });\r\n    const riskWeek = Math.round((this.state.risk * 10000 + Number.EPSILON)) / 100;\r\n    var riskYear = 1 - Math.pow((1-this.state.risk), 52);\r\n    riskYear = Math.round((riskYear * 10000 + Number.EPSILON)) / 100;\r\n    return (\r\n      <div id=\"calculator_result\">\r\n      <Box justify=\"right\" m=\"auto\">\r\n        Vous avez <span style={{fontWeight:\"bold\", color:\"red\"}}>{riskWeek} %</span> de chance d'attraper le covid\r\n        sur une semaine, pour une prévalence de {this.state.person.universe.prevalence}. Cela donne <span style={{fontWeight:\"bold\", color:\"red\"}}>{riskYear} %</span> sur un an.\r\n      </Box>\r\n      <div id=\"button_to_family\">\r\n      <NavLink to=\"/familyGathering/\">\r\n      <Fab\r\n      onClick={() => {this.props.changeGlobalRisk(this.state.risk);}}\r\n      variant=\"extended\"\r\n    >\r\n      <GroupAddIcon />\r\n      <Box p=\"0.5rem\">Importer dans le simulateur de réunion familiale</Box>\r\n    </Fab>\r\n    </NavLink>\r\n    </div>\r\n    <div id=\"text_graph_result\">\r\n    Evolution de l'épidémie sur un mois si tout le monde a le même profil de risque (chiffres en milliers) :\r\n    </div>\r\n    {/* On suppose que les activités correspondent environ à la durée d'incubation (1 semaine en l'occurence) */}\r\n    <div id='graph_result'>{this.state.evolution()}</div>\r\n  </div>\r\n    )\r\n  }\r\n\r\n  addActivity = (args) => {\r\n    const myId = [this.state.nextId]\r\n    const widget = (\r\n      <Grid item className=\"activity_list\">\r\n          <RiskForm id={myId} updateRisk={this.updateRisk} edit={this.toggleOffResult} {...args}>\r\n              <div className=\"delete_button\">\r\n              <Tooltip title=\"Supprimer\">\r\n              <IconButton aria-label=\"delete\" size=\"small\" onClick={() => this.clear(myId[0])}>\r\n              <DeleteIcon />\r\n              </IconButton>\r\n              </Tooltip>\r\n              </div>\r\n          </RiskForm>\r\n      </Grid>\r\n    )\r\n    this.setState({ nextId: this.state.nextId + 1 })\r\n    var widgets = this.state.blockActivities.slice()\r\n    widgets.push(widget)\r\n    this.setState({ blockActivities: widgets })\r\n  }\r\n\r\n  // Premade activities are already filled.\r\n  addPremadeActivity = (args) => {\r\n    const myId = [this.state.nextId]\r\n    const widget = (\r\n      <Grid item className=\"activity_list\">\r\n          <RiskForm id={myId} showForm={true} updateRisk={this.updateRisk} edit={this.toggleOffResult} {...args}>\r\n              <div className=\"delete_button\">\r\n              <Tooltip title=\"Supprimer\">\r\n              <IconButton z-index={5000} aria-label=\"delete\" size=\"small\" onClick={() => {this.clear(myId[0]); this.toggleOffResult()}}>\r\n              <DeleteIcon />\r\n              </IconButton>\r\n              </Tooltip>\r\n              </div>\r\n          </RiskForm>\r\n      </Grid>\r\n    )\r\n    this.setState({ nextId: this.state.nextId + 1 })\r\n    var widgets = this.state.blockActivities.slice()\r\n    widgets.push(widget)\r\n    this.setState({ blockActivities: widgets })\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    //this.addActivity(this.defaultActivityArgs);\r\n  }\r\n\r\n  clearAll = () => {\r\n    this.setState({ nextId: 0, blockActivities: [], activities: {}, risk:0, toggleResult:false});\r\n    var p = this.state.person;\r\n    p.clearActivityList();\r\n    this.setState({person:p});\r\n  }\r\n\r\n  clear = id => {\r\n    var widgets = this.state.blockActivities.slice();\r\n    var myActis = this.state.activities;\r\n    widgets[id] = <div />\r\n    delete myActis[id];\r\n    this.setState({ blockActivities: widgets, activities:myActis})\r\n  }\r\n\r\n  generatePremadeCards = () => {\r\n    const { classes } = this.props;\r\n    // sort premade cards\r\n    list_activities.sort((a, b) => (a.name > b.name) ? 1 : -1);\r\n\r\n    return (\r\n      <div id=\"premade_cards\" className={classes.root}>\r\n          {list_activities.map((item, index) => {\r\n            return (\r\n                  <Chip icon={<FaceIcon />} label={item.name} clickable onClick={() => {this.addPremadeActivity(item); this.toggleOffResult()}} />\r\n            )\r\n          })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <div className=\"risk_calculator\">\r\n        <Grid container spacing={1} justify=\"center\" alignitems=\"center\">\r\n          {this.state.blockActivities}\r\n        </Grid>\r\n        <div className=\"addActivity_buttons\">\r\n        <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n          <Grid container spacing={1}   alignItems=\"center\" justify=\"center\">\r\n            <Grid item>\r\n              <Fab\r\n                onClick={() => {this.addActivity(this.defaultActivityArgs); this.toggleOffResult();}}\r\n                color=\"primary\"\r\n                variant=\"extended\"\r\n              >\r\n                <AddIcon />\r\n                <Box p=\"0.5rem\">Nouvelle activité</Box>\r\n              </Fab>\r\n            </Grid>\r\n            <Grid item>\r\n              <Fab onClick={() => {this.clearAll(); this.toggleOffResult();}} color=\"secondary\" variant=\"extended\">\r\n                <CachedIcon />\r\n                <Box p=\"0.5rem\">Reset</Box>\r\n              </Fab>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n        </div>\r\n        <div className=\"addActivity_buttons\">\r\n        <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n          <Grid container spacing={1}   alignItems=\"center\" justify=\"center\">\r\n            <Grid item>\r\n              <Fab\r\n                onClick={() => {this.getRisk(); this.toggleResult();}}\r\n                variant=\"extended\"\r\n              >\r\n                <TouchAppIcon />\r\n                <Box p=\"0.5rem\">Calculer mon risque</Box>\r\n              </Fab>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n        </div>\r\n        <div id=\"premade_activities\">\r\n            {this.generatePremadeCards()}\r\n        </div>\r\n\r\n        <div id=\"calculator-result\" ref={this.refResult}>\r\n        {this.state.toggleResult && this.showResult()}\r\n        </div>\r\n        {this.state.toggleResult && Scroll.animateScroll.scrollToBottom({offset:100})}\r\n        <br/><br/>\r\n        <div className=\"disclaimer\">\r\n          <h3>Disclaimer</h3>\r\n          Ce site n'a pas fait l'objet d'un processus de revue par des pairs, et représente donc\r\n          uniquement les estimations des auteurs étant donné les connaissances à leur disposition. Nous ne sommes en aucun cas des experts de ce sujet, même si nous avons lu beaucoup de papiers d'experts. Ceci n'est pas une source primaire d'information\r\n          sur le COVID. N'utilisez pas les outils de ce site pour prendre des décisions médicales. Continuez à suivre les recommandations du gouvernement.\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(RiskCalculator);\r\n","D:\\Dev\\covinsights\\src\\pages\\calculator.js",[],"D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskFormEng.js",["275"],"import React, { Children, Component } from \"react\"\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Box from \"@material-ui/core/Box\"\r\nimport { IconButton, Button } from \"@material-ui/core\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport {CustomActivity, BasicUniverse, RiskProfile, WorkerRiskProfile, NonWorkerRiskProfile} from './NewMath.js';\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 80,\r\n  },\r\n    root: {\r\n    display: 'flex',\r\n    pt: \"3rem\",\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      margin: theme.spacing(0.5),\r\n    },\r\n  },\r\n});\r\n\r\nconst propsForForm = {\r\n  bgcolor: \"background.paper\",\r\n  borderColor: \"text.primary\",\r\n  m: \"auto\",\r\n  border: 0,\r\n  style: { width: \"17rem\", height: \"35rem\" },\r\n  boxShadow: 3,\r\n  mx: \"auto\",\r\n  px: \"1rem\",\r\n  pt: \"2rem\",\r\n}\r\n\r\nconst propsForDisplay = {\r\n  bgcolor: \"background.paper\",\r\n  borderColor: \"text.primary\",\r\n  m: \"auto\",\r\n  border: 0,\r\n  style: { width: \"16rem\", height: \"5rem\" },\r\n  boxShadow: 3,\r\n  mx: \"auto\",\r\n  px: \"1rem\",\r\n  position:\"relative\",\r\n  bottom:\"2rem\"\r\n}\r\n\r\nclass RiskFormEng extends Component {\r\n  state = {\r\n    showForm: this.props.showForm,\r\n    id: this.props.id,\r\n    name: this.props.name,\r\n    duration: this.props.duration,\r\n    wearMask: this.props.wearMask,\r\n    nbPeople: this.props.nbPeople,\r\n    nbMasked:this.props.nbMasked,\r\n    location:this.props.location,\r\n    talking: this.props.talking,\r\n    distance: this.props.distance,\r\n    riskProfile: this.props.riskProfile,\r\n    heures:Math.floor(this.props.duration/60),\r\n    minutes:this.props.duration % 60,\r\n    activity:{},\r\n    universe: new BasicUniverse(),\r\n  }\r\n\r\n  setActivityRisk = () => {\r\n    // setting the duration.\r\n    var newDuration = 60*this.state.heures + this.state.minutes;\r\n    this.setState({duration:newDuration})\r\n    var maskProportion = 0;\r\n    if(this.state.nbMasked === 0)\r\n    {\r\n      maskProportion = 0;\r\n    }\r\n    else{\r\n      maskProportion = this.state.nbPeople / this.state.nbMasked;\r\n    }\r\n    var profile = new RiskProfile();\r\n    // Note that the cap at 50% is before applying the profile.\r\n    // The risk profile represents a variation in the prevalence, not the\r\n    // activity itself.\r\n    if(this.state.riskProfile === \"worker\")\r\n    {\r\n      profile = new WorkerRiskProfile();\r\n    }\r\n   if(this.state.riskProfile === \"nonWorker\")\r\n    {\r\n      profile = new NonWorkerRiskProfile();\r\n    }\r\n    var myActivity = new CustomActivity(this.state.name, newDuration, this.state.nbPeople,\r\n        this.state.wearMask, maskProportion, this.state.talking, this.state.location, this.state.distance, profile);\r\n    this.setState({activity:myActivity});\r\n    this.props.updateRisk(this.props.id[0], myActivity);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setActivityRisk();\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.checked })\r\n  }\r\n\r\n  handleNameField = (e) => {\r\n    this.setState({\r\n      name: e.target.value\r\n  });\r\n  }\r\n\r\n  handleNbPeople = (event) => {\r\n    this.setState({nbPeople:Number(event.target.value)});\r\n  };\r\n\r\n  handleNbMasked = (event) => {\r\n    this.setState({nbMasked:Number(event.target.value)});\r\n  };\r\n\r\n  handleHours = (event) => {\r\n    this.setState({heures:Number(event.target.value)})\r\n  }\r\n\r\n  handleMinutes = (event) => {\r\n    this.setState({minutes:Number(event.target.value)});\r\n  }\r\n\r\n  handleTalking = (event) => {\r\n    this.setState({talking:event.target.value});\r\n  };\r\n\r\n  handleDistance = (event) => {\r\n    this.setState({distance:event.target.value});\r\n  };\r\n\r\n  handleRiskProfile = (event) => {\r\n    this.setState({riskProfile:event.target.value});\r\n  };\r\n\r\n  handleLocation = (event) => {\r\n    this.setState({location: event.target.value});\r\n  }\r\n\r\n  generateNbPeople1 = (i) => {\r\n    return (\r\n    <option value={i}>{i}</option>\r\n    );\r\n  }\r\n\r\n  generateNbPeople = () => {\r\n    const numbers = [0,1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n    return numbers.map((number) => this.generateNbPeople1(number));\r\n  }\r\n\r\n  showForm = () => {\r\n    return (\r\n      <div className=\"risk_form\">\r\n      <Tooltip title=\"Edit\">\r\n      <IconButton className=\"edit_button\" aria-label=\"delete\" size=\"small\" onClick={() => {this.setState({ showForm: false }); this.props.edit()}}>\r\n        <EditIcon />\r\n      </IconButton>\r\n      </Tooltip>\r\n      <Box borderRadius={16} {...propsForDisplay}>\r\n          {this.props.children}\r\n          <div className=\"show_activity\">\r\n            {this.state.name}. {/*Risque : {this.state.risk} */}\r\n          </div>\r\n      </Box>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  showCreator = () => {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"risk_form_creator\">\r\n      <Box borderRadius={16} {...propsForForm}>\r\n            <Grid container spacing={1} justify=\"center\" className=\"form_activity_grid\">\r\n                  <Grid item className=\"grid_name_activity\">\r\n                      <TextField id=\"outlined-basic\" size=\"small\" style={{width: 180}} label=\"Activity name\" variant=\"outlined\" defaultValue={this.state.name} onChange={this.handleNameField} />\r\n                  </Grid>\r\n                  <Grid container spacing={1} justify=\"center\" className=\"form_inner_grid\">\r\n                      <Grid item>\r\n                          <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"hours\" variant=\"outlined\" defaultValue={this.state.heures} onChange={this.handleHours} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                          <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"minutes\" variant=\"outlined\" defaultValue={this.state.minutes} onChange={this.handleMinutes} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Location</InputLabel>\r\n                          <Select\r\n                            native \r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.location}\r\n                            onChange={this.handleLocation}\r\n                            label=\"Endroit\"\r\n                          >\r\n                            <option value=\"indoors\">Indoors</option>\r\n                            <option value=\"outdoors\">Outdoors</option>\r\n                            <option value=\"train\">Train with air filtration</option>\r\n                            <option value=\"car\">Moving car, windows opened</option>\r\n                            <option value=\"plane\">Avion</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControlLabel\r\n                          control={<Checkbox color=\"primary\" checked={this.state.wearMask}\r\n                            onChange={this.handleChange}\r\n                            name=\"wearMask\"\r\n                            inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                          />} label=\"Are you wearing a mask ?\" />\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"Nb people\" variant=\"outlined\" defaultValue={this.state.nbPeople} onChange={this.handleNbPeople} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                        <TextField id=\"outlined-basic\" style={{width: 90}} type=\"number\" InputLabelProps={{shrink: true,}} label=\"Masks\" variant=\"outlined\" defaultValue={this.state.nbMasked} onChange={this.handleNbMasked} />\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Conversation</InputLabel>\r\n                          <Select\r\n                            native \r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.talking}\r\n                            onChange={this.handleTalking}\r\n                            label=\"Nb people\"\r\n                          >\r\n                            <option value=\"quiet\">No talking</option>\r\n                            <option value=\"normal\">Normal</option>\r\n                            <option value=\"loud\">Loud</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Distance</InputLabel>\r\n                          <Select\r\n                            native \r\n                            style={{width: 90}}\r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.distance}\r\n                            onChange={this.handleDistance}\r\n                            label=\"Nb people\"\r\n                          >\r\n                            <option value=\"close\">Close (&le;30cm)</option>\r\n                            <option value=\"normal\">Normal (1m)</option>\r\n                            <option value=\"long\">Long (2m)</option>\r\n                            <option value=\"veryLong\">Very long (&ge;3m)</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item>\r\n                      <FormControl className={classes.formControl}>\r\n                          <InputLabel id=\"demo-simple-select-label\">Risk profile</InputLabel>\r\n                          <Select\r\n                            native \r\n                            id=\"demo-simple-select\"\r\n                            value={this.state.riskProfile}\r\n                            onChange={this.handleRiskProfile}\r\n                          >\r\n                            <option value=\"average\">Standard</option>\r\n                            <option value=\"worker\">Frontline worker</option>\r\n                            <option value=\"nonWorker\">Work from home</option>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                  </Grid>\r\n            </Grid>\r\n            <br/>\r\n            <div className={classes.root}>\r\n            <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={() => {this.setState({ showForm: true }); this.setActivityRisk()}}\r\n              >\r\n                {\" \"}\r\n                Submit\r\n              </Button>\r\n            </div>\r\n      </Box>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"riskForm_container\">\r\n          {this.state.showForm ? this.showForm() : this.showCreator()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(RiskFormEng);\r\n","D:\\Dev\\covinsights\\src\\components\\Calculator\\RiskCalculatorEng.js",["276","277"],"D:\\Dev\\covinsights\\src\\pages\\familyGatheringEng.js",[],"D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\GathererEng.js",["278","279","280","281","282"],"import React, { Component } from \"react\"\r\nimport PersonCard from \"./PersonCard.js\"\r\nimport Fab from \"@material-ui/core/Fab\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\nimport Box from \"@material-ui/core/Box\"\r\nimport Chip from '@material-ui/core/Chip';\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport profiles from '../constants/profiles.js';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport {InteractionOne, BasicUniverse} from '../Calculator/NewMath.js';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { IconButton} from \"@material-ui/core\"\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\n\r\n\r\n/*\r\n**********\r\n** TODO **\r\n**********\r\n\r\nAjouter des cases pour le type de réunion familiale (une ligne en bas)\r\n-> masque ou non, intérieur/extérieur, \r\n*/\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap',\r\n      '& > *': {\r\n        margin: theme.spacing(0.5),\r\n      },\r\n    },\r\n  });\r\n\r\nclass GatheringEng extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        // globalRisk contains the person Risk derived from the calculator.\r\n        this.state={people:{}, peopleCards:[], nextId:0, toggleResult:false, result:[],\r\n        masks:false, location:\"indoors\", duration:300, talking:\"normal\", distance:\"normal\", universe:new BasicUniverse(),\r\n         globalRisk:(isNaN(this.props.globalRisk)? 0:this.props.globalRisk)}\r\n        this.defaultPersonArgs = {\r\n            name:\"Bobby\",\r\n            age: 20,\r\n            gender: \"ND\",\r\n            risk:0,\r\n        };\r\n        this.refResult = React.createRef();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        \r\n    }\r\n\r\n    // We only add the card, the person is added on submit.\r\n    addPerson = (args) => {\r\n        const myId = this.state.nextId;\r\n        const myNewCard = (\r\n            <Grid item className=\"activity_list\">\r\n                <PersonCard id={myId} showForm={false} updatePerson={this.updatePerson} delete={() => {this.clear(myId); this.toggleOffResult()}} {...args}>\r\n                    <div className=\"delete_button\">\r\n                    <Tooltip title=\"Supprimer\">\r\n                    <IconButton aria-label=\"delete\" size=\"small\" onClick={() => {this.clear(myId); this.toggleOffResult()}}>\r\n                    <DeleteIcon />\r\n                    </IconButton>\r\n                    </Tooltip>\r\n                    </div>\r\n                </PersonCard>\r\n            </Grid>\r\n          )\r\n        this.setState({ nextId: this.state.nextId + 1 });\r\n        var myCards = this.state.peopleCards.slice();\r\n        myCards.push(myNewCard);\r\n        this.setState({ peopleCards:myCards });\r\n    }\r\n\r\n    // For a premade, we directly enter the person\r\n    addPremadePerson = (args) => {\r\n        const myId = this.state.nextId;\r\n        const myNewCard = (\r\n            <Grid item className=\"activity_list\">\r\n                <PersonCard id={myId} showForm={true} updatePerson={this.updatePerson} delete={() => {this.clear(myId); this.toggleOffResult()}} {...args}>\r\n                    <div className=\"delete_button\">\r\n                    <Tooltip title=\"Supprimer\">\r\n                    <IconButton aria-label=\"delete\" size=\"small\" onClick={() => {this.clear(myId); this.toggleOffResult()}}>\r\n                    <DeleteIcon />\r\n                    </IconButton>\r\n                    </Tooltip>\r\n                    </div>\r\n                </PersonCard>\r\n            </Grid>\r\n          )\r\n        this.setState({ nextId: this.state.nextId + 1 });\r\n        var myCards = this.state.peopleCards.slice();\r\n        var myPeople = this.state.people;\r\n        var ageFactors = this.state.universe.ageFactors(args.age, args.gender);\r\n        myPeople[myId] = [ageFactors, args.risk];\r\n        myCards.push(myNewCard);\r\n        this.setState({ peopleCards:myCards });\r\n    }\r\n\r\n    clear = id => {\r\n        // Updating the cards and the people.\r\n        var myCards = this.state.peopleCards.slice();\r\n        var myPeople = this.state.people;\r\n        myCards[id] = <div />\r\n        delete myPeople[id];\r\n        this.setState({ peopleCards: myCards, people:myPeople})\r\n    }\r\n\r\n    clearAll = () => {\r\n        this.setState({ nextId: 0, peopleCards: [], people:{}, toggleResult:false });\r\n    }\r\n\r\n    // Called by the children on mount and submit\r\n    updatePerson = (id, age, gender, risk) => {\r\n        var myPeople = this.state.people;\r\n        var ageFactors = this.state.universe.ageFactors(age, gender);\r\n        myPeople[id] = [ageFactors, risk];\r\n        this.setState({people:myPeople});\r\n      }\r\n\r\n    generatePremadeCards = () => {\r\n    profiles.sort((a, b) => (a.name > b.name) ? 1 : -1);\r\n    const { classes } = this.props;\r\n    return (\r\n        <div id=\"premade_cards\" className={classes.root}>\r\n            {profiles.map((item, index) => {\r\n            return (\r\n                    <Chip icon={<FaceIcon />} label={item.name} clickable onClick={() => {this.addPremadePerson(item); this.toggleOffResult()}} />\r\n            )\r\n            })}\r\n        </div>\r\n    )\r\n    }\r\n\r\n    toggleResult = () => {\r\n        this.setState({toggleResult:true});\r\n    }\r\n\r\n    toggleOffResult = () => {\r\n        this.setState({toggleResult:false});\r\n    }\r\n\r\n    // Compute the probability that someone is hospitalized, goes to ICU, and dies.\r\n    computeResult = () => {\r\n        /*\r\n\t\tFormulas :\r\n\t\t- Mean number of people hospitalized : sum(p_hosp)\r\n        - Probability that at least one person is hospitalized : 1 - prod(1-p_hosp)\r\n        - Attention, les risques sont entrés par les gens sous forme de pourcentages !!\r\n\t\t*/\r\n\t\tvar risk = 1.0;\r\n\t\tvar hospRisk = 1.0;\r\n\t\tvar reaRisk = 1.0;\r\n\t\tvar deathRisk = 1.0;\r\n\t\tvar moyenneHosp = 0.0;\r\n\t\tvar moyenneRea = 0.0;\r\n\t\tvar moyenneDeaths = 0.0;\r\n        var i;\r\n        var interaction = new InteractionOne(\"Family gathering\", this.state.duration, this.state.masks, this.state.masks,\r\n            this.state.talking, this.state.outdoors, this.state.distance);\r\n        var interactionRisk = interaction.getActivityRisk();\r\n        // Using the risk from the calculator.\r\n        // We only compute the risk for his family.\r\n        risk = risk *(1-this.state.globalRisk);\r\n\t\tfor(var key in this.state.people){\r\n            // The risk passed by the person via the simulator.\r\n\t\t\tvar myRisk = this.state.people[key][1] / 100\r\n\t\t\t// We update the probability that no-one has the disease\r\n            risk = risk * (1-myRisk);\r\n\t\t\tfor(var current in this.state.people){\r\n                if(current != key){\r\n                    // Updating the risk for person i by taking into account the possible\r\n\t\t\t\t    // contamination by person j.\r\n\t\t\t\t    myRisk = myRisk + (1-myRisk)*interactionRisk*this.state.people[current][1]/100;\r\n                }\r\n            }\r\n            myRisk = myRisk + (1-myRisk)*interactionRisk*this.state.globalRisk;\r\n\t\t\tvar hospProba = this.state.people[key][0][0]\r\n\t\t\tvar reaProba = this.state.people[key][0][1]\r\n\t\t\tvar deathProba = this.state.people[key][0][2]\r\n\t\t\t// Updating the proba that no-one gets hospitalized\r\n\t\t\thospRisk = hospRisk * (1 - myRisk*hospProba);\r\n\t\t\treaRisk = reaRisk * (1 - myRisk*hospProba*reaProba)\r\n\t\t\tdeathRisk = deathRisk  *(1 - myRisk*hospProba*deathProba)\r\n\t\t\t// Updating the average number of hospitalizations\r\n\t\t\tmoyenneHosp = moyenneHosp + myRisk*hospProba\r\n\t\t\tmoyenneRea = moyenneRea + myRisk*hospProba*reaProba\r\n\t\t\tmoyenneDeaths = moyenneDeaths + myRisk*hospProba*deathProba\r\n\t\t}\r\n\t\trisk = 1-risk;\r\n\t\thospRisk = 1-hospRisk;\r\n\t\treaRisk = 1-reaRisk;\r\n        deathRisk = 1-deathRisk;\r\n        var res = \r\n\t\tthis.setState({result:[risk, hospRisk, reaRisk, deathRisk, moyenneHosp, moyenneRea, moyenneDeaths]});\r\n    }\r\n\r\n    showResult = () => {\r\n        this.refResult.current.scrollIntoView();\r\n        const result = this.state.result;\r\n        const pop_restante = 66000000 * 0.9; // 66millions moins les environ 10 à 15% déjà infectés.\r\n        var n_pers = 0;\r\n        var nb_christmas\r\n\r\n        if(this.state.globalRisk !=0){\r\n            n_pers = n_pers + 1;\r\n        }\r\n        n_pers = n_pers + Object.keys(this.state.people).length;\r\n        if(n_pers==0)\r\n        {\r\n            nb_christmas=0;\r\n        }\r\n        else{\r\n            nb_christmas = pop_restante * 0.75 /n_pers; // 70% vont à une réunion familiale, et chacun fait comme moi.\r\n        }\r\n        return (\r\n        <div id =\"family_result\">\r\n        <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            Outcome for France : <br /> <br/>\r\n            <div className=\"visible_except_mobile\">\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={4}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                        {Math.round(result[4]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                        hospitalizations\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[5]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    ICUs\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[6]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    deaths\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n            </Grid>\r\n            </div>\r\n            <div className=\"visible_mobile_only\">\r\n            <Grid container spacing={1}>\r\n                <Grid item xs={12}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                        {Math.round(result[4]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                        hospitalisations\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[5]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    réas\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                <div className=\"result_cases\">\r\n                    <div className=\"result_cases_top\">\r\n                    {Math.round(result[6]*nb_christmas)}\r\n                    </div>\r\n                    <div className=\"result_cases_bottom\">\r\n                    morts\r\n                    </div>\r\n                </div>\r\n                </Grid>\r\n            </Grid>\r\n            </div>\r\n        </Box>\r\n      </div>\r\n      )\r\n\r\n    }\r\n\r\n    handleGlobalRisk = (event) => {\r\n        this.setState({globalRisk: Number(event.target.value)/100})\r\n    }\r\n\r\n    showMyRisk = () => {\r\n        return (\r\n            <div className=\"showMyRisk\">\r\n            <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\r\n                <Grid item>\r\n                Mon risque :\r\n                </Grid>\r\n                <Grid item><TextField id=\"outlined-basic\" style={{width: 70}} type=\"number\"\r\n\t\t\tInputLabelProps={{shrink: true,}} label=\"Risque\" variant=\"outlined\" defaultValue={Math.round(this.state.globalRisk*10000)/100} onChange={this.handleGlobalRisk} />\r\n                </Grid>\r\n                <Grid item>\r\n                %\r\n                </Grid>\r\n            </Grid>\r\n            </Box>\r\n            </div>            \r\n        )\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n        <div id=\"Gatherer_container\">\r\n         <Grid container spacing={1} justify=\"center\" alignitems=\"center\">\r\n                {this.state.peopleCards}\r\n        </Grid>\r\n            <div className=\"addActivity_buttons\">\r\n            <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\r\n                <Grid item>\r\n                <Fab\r\n                    onClick={() => {this.addPerson(this.defaultPersonArgs); this.toggleOffResult()}}\r\n                    color=\"primary\"\r\n                    variant=\"extended\"\r\n                >\r\n                    <AddIcon />\r\n                    <Box p=\"0.5rem\">Person</Box>\r\n                </Fab>\r\n                </Grid>\r\n                <Grid item>\r\n                <Fab onClick={() => {this.clearAll(); this.toggleOffResult()}} color=\"secondary\" variant=\"extended\">\r\n                    <CachedIcon />\r\n                    <Box p=\"0.5rem\">Reset</Box>\r\n                </Fab>\r\n                </Grid>\r\n            </Grid>\r\n            </Box>\r\n            </div>\r\n            <div className=\"addActivity_buttons\">\r\n            <Box pt=\"1rem\" justify=\"right\" m=\"auto\">\r\n            <Grid container spacing={1} alignItems=\"center\" justify=\"center\">\r\n                <Grid item>\r\n                <Fab\r\n                    onClick={() => {this.toggleResult(); this.computeResult()}}\r\n                    variant=\"extended\"\r\n                >\r\n                    <TouchAppIcon />\r\n                    <Box p=\"0.5rem\">Compute the outcome</Box>\r\n                </Fab>\r\n                </Grid>\r\n            </Grid>\r\n            </Box>\r\n            </div>\r\n            {this.showMyRisk()}\r\n            <div id=\"premade_profiles\">\r\n                {this.generatePremadeCards()}\r\n            </div>  \r\n            <div ref={this.refResult}>\r\n            {this.state.toggleResult && this.showResult()}\r\n            </div>\r\n            <br/><br/>\r\n            <div className=\"disclaimer\">\r\n            <h3>Disclaimer</h3>\r\n            This website was not peer-reviewed, and only represents the author's best estimations given the knowledge at hand. We are not experts in this topic by any\r\n            means, even if we read many expert's papers. This website is not a primary information source about COVID.\r\n            Do not use the tools from this website to take medical decisions. Keep following government recommendation.\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(GatheringEng);","D:\\Dev\\covinsights\\src\\components\\FamilyGathering\\PersonCardEng.js",["283","284","285","286","287","288","289","290"],"D:\\Dev\\covinsights\\src\\components\\Insights\\ComparisonRisksEng.js",["291","292"],"import React, {Component} from 'react';\r\nimport list_activities from '../constants/activitiesEng.js';\r\nimport { ScatterChart, CartesianGrid, XAxis, YAxis, Tooltip, Cell, Scatter, Label, ResponsiveContainer} from 'recharts';\r\nimport { CustomActivity, NonWorkerRiskProfile, WorkerRiskProfile, RiskProfile, BasicUniverse} from '../Calculator/NewMath.js';\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\nclass ComparisonRiskEng extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {actis:[], universe:new BasicUniverse()};\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        var myActis = this.state.actis;\r\n        for(var i=0; i<list_activities.length; i++){\r\n            var current = list_activities[i];\r\n            var profile = new RiskProfile();\r\n            if(current.riskProfile == \"worker\")\r\n            {\r\n                profile = new WorkerRiskProfile();\r\n            }\r\n            if(current.riskProfile == \"nonWorker\")\r\n            {\r\n                profile = new NonWorkerRiskProfile();\r\n            }\r\n            var a = new CustomActivity(current.name, current.duration, current.nbPeople, current.wearMask, current.nbMasked/current.nbPeople, current.talking, current.location, current.distance, profile);\r\n            var myActi = a.getRisk();\r\n            var myRisk = myActi[0] * this.state.universe.prevalence;\r\n            // Handle duration\r\n            var composedRisk = 1 - Math.pow((1-myRisk),myActi[1])*(1-myRisk*myActi[2]/60);\r\n            // We hardcap the risk from one single person to the household value, 0.5.\r\n\t\t\tif(composedRisk>0.5){\r\n\t\t\t\tcomposedRisk=0.5;\r\n\t\t\t}\r\n            // Handle nb people\r\n            var totalRisk = 1-Math.pow((1-composedRisk), myActi[3]);\r\n            // Do that for one year\r\n            totalRisk = 1-Math.pow((1-totalRisk),52);\r\n            myActis.push({name:current.name, risk:Math.round(totalRisk*10000000)/100000}); // En pourcentage\r\n        }\r\n        myActis.sort((a, b) => (a.risk > b.risk) ? 1 : -1);\r\n        this.setState({actis:myActis});\r\n        //console.log(myActis)\r\n    }\r\n\r\n    computeFill = (risk) => {\r\n        // Seuils de risque (1 an) : 0.5%, \r\n        if(risk<0.5)\r\n        {\r\n            return \"#82ca9d\"\r\n        }\r\n        if(risk>0.5 && risk<3)\r\n        {\r\n            return \"#F8E716\";\r\n        }\r\n        if(risk>3 && risk <10)\r\n        {\r\n            return 'orange';\r\n        }\r\n        else{\r\n            return 'red';\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div style={{textAlign:\"center\", alignItems:\"center\"}}>\r\n            <div className=\"recharts_wrapper\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <ScatterChart\r\n                margin={{ top: 20, right:15, bottom: 10, left: 40 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"risk\" type=\"number\" domain={['dataMin', 'dataMax']} scale=\"log\" ticks={ [0.5, 3, 10] }>\r\n                    <Label value=\"(log)\" position='right' offset={-20} />\r\n                </XAxis>\r\n                <YAxis dataKey=\"name\" type='category' interval={5} />\r\n                <Tooltip cursor={{ strokeDasharray: '3 3' }} />\r\n                <Scatter data={this.state.actis} fill={\"#82ca9d\"}>\r\n                {\r\n                    this.state.actis.map((entry, index) => {\r\n                        return <Cell key={`cell-${index}`} fill={this.computeFill(entry.risk)} />\r\n                    })\r\n                }\r\n                </Scatter>\r\n            </ScatterChart>\r\n            </ResponsiveContainer>\r\n            </div>    \r\n            <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\r\n                <Grid item>\r\n                    <span className=\"green-dot\"></span> risk {\"< 0.5\"} % over 1 year.\r\n                </Grid>\r\n                <Grid item>\r\n                    <span className=\"yellow-dot\"></span> between {\"0.5\"} and {\"3\"}%\r\n                </Grid>\r\n                <Grid item>\r\n                    <span className=\"orange-dot\"></span> between {\"3\"} and {\"10\"}%\r\n                </Grid>\r\n                <Grid item>\r\n                    <span className=\"red-dot\"></span> {\">10\"} %\r\n                </Grid>\r\n            </Grid>  \r\n            <br/><br/><br/>\r\n            <div className=\"disclaimer\">\r\n            <h3>Disclaimer</h3>\r\n            This website was not peer-reviewed, and only represents the author's best estimations given the knowledge at hand. We are not experts in this topic by any\r\n            means, even if we read many expert's papers. This website is not a primary information source about COVID.\r\n            Do not use the tools from this website to take medical decisions. Keep following government recommendation.\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ComparisonRiskEng;","D:\\Dev\\covinsights\\src\\components\\constants\\activities.js",["293"],"export default [\r\n    {\r\n      name: \"Repas à 2 en intérieur\",\r\n      wearMask: false,\r\n      duration:90,\r\n      nbPeople: 1,\r\n      nbMasked: 0,\r\n      location: \"indoors\",\r\n      talking: \"normal\",\r\n      distance: \"normal\",\r\n      riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name: \"Coup d'un soir\",\r\n        wearMask:false,\r\n        duration:300,\r\n        nbPeople:1,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        talking:\"normal\",\r\n        distance:\"close\",\r\n        riskProfile:\"worker\",\r\n    },\r\n    {\r\n        name: \"Cours de danse (partenaire fixe)\",\r\n        wearMask: true,\r\n        duration:60,\r\n        nbPeople: 20,\r\n        nbMasked: 20,\r\n        location: \"indoors\",\r\n        talking: \"normal\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name: \"Concert (gradins, avec masque)\",\r\n        wearMask: true,\r\n        duration:120,\r\n        nbPeople: 10,\r\n        nbMasked: 10,\r\n        location: \"indoors\",\r\n        talking: \"loud\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Concert (fosse, avec masque)\",\r\n        wearMask: true,\r\n        duration: 120,\r\n        nbPeople: 100,\r\n        nbMasked: 100,\r\n        location: \"indoors\",\r\n        talking: \"loud\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Ecole / Université (une journée)\",\r\n        nbPeople: 10,\r\n        duration: 480,\r\n        wearMask: true,\r\n        nbMasked: 10,\r\n        location: \"indoors\",\r\n        distance: \"long\",\r\n        talking: 'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"File d'attente(30mn)\",\r\n        wearMask: true,\r\n        duration: 30,\r\n        nbPeople: 4,\r\n        nbMasked: 4,\r\n        location: \"indoors\",\r\n        talking: \"normal\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Nourriture à emporter (avec masque)\",\r\n        nbPeople:1,\r\n        duration:5,\r\n        wearMask: true,\r\n        nbMasked:1,\r\n        location: \"indoors\",\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Promenade\",\r\n        nbPeople:3,\r\n        duration:60,\r\n        wearMask: false,\r\n        nbMasked:0.,\r\n        location: \"outdoors\",\r\n        distance:\"veryLong\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Repas à 2 en extérieur\",\r\n        nbPeople:1,\r\n        duration:90,\r\n        wearMask: false,\r\n        nbMasked:0.,\r\n        location: \"outdoors\",\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Bibliothèque/musée (avec masque)\",\r\n        nbPeople:5,\r\n        duration:120,\r\n        wearMask:true,\r\n        nbMasked:5,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Faire ses courses\",\r\n        nbPeople:10,\r\n        duration:30,\r\n        wearMask:true,\r\n        nbMasked:10,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'quiet',\r\n        riskProfile: \"worker\",\r\n    },\r\n    {\r\n        name:\"Pique-nique de 2h\",\r\n        nbPeople:5,\r\n        duration:120,\r\n        wearMask:false,\r\n        nbMasked:0,\r\n        location:\"outdoors\",\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Travail en open space\",\r\n        nbPeople:10,\r\n        duration:480,\r\n        wearMask:true,\r\n        nbMasked:10,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Transports en commun (1h)\",\r\n        nbPeople:20,\r\n        duration:60,\r\n        wearMask:true,\r\n        nbMasked:20,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Dîner entre amis de 2h\",\r\n        nbPeople:4,\r\n        duration:120,\r\n        wearMask:false,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Cinema/Théâtre\",\r\n        nbPeople:50,\r\n        duration:120,\r\n        wearMask:true,\r\n        nbMasked:50,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Théâtre(1er rang)\",\r\n        nbPeople:8,\r\n        duration:120,\r\n        wearMask:true,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'loud',\r\n        riskProfile: \"worker\",\r\n    },\r\n    {\r\n        name:\"Soirée jeux de 3h à 5 personnes\",\r\n        nbPeople:4,\r\n        duration:180,\r\n        wearMask:false,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Uber (30mn)\",\r\n        nbPeople:1,\r\n        duration:30,\r\n        wearMask:true,\r\n        nbMasked:1,\r\n        location:\"car\",\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    }\r\n  ]\r\n  ","D:\\Dev\\covinsights\\src\\pages\\WhitePaperEng.js",[],"D:\\Dev\\covinsights\\src\\pages\\calculatorEng.js",[],"D:\\Dev\\covinsights\\src\\css\\PageContainerWrapper.js",[],["294","295"],"D:\\Dev\\covinsights\\src\\components\\Calculator\\Evolution.js",[],["296","297"],"D:\\Dev\\covinsights\\src\\pages\\insightsEng.js",[],"D:\\Dev\\covinsights\\src\\css\\BannerWrapper.js",[],"D:\\Dev\\covinsights\\src\\css\\CardWrapper.js",[],"D:\\Dev\\covinsights\\src\\components\\constants\\profilesEng.js",["298"],"D:\\Dev\\covinsights\\src\\css\\NavbarWrapper.js",[],"D:\\Dev\\covinsights\\src\\components\\constants\\activitiesEng.js",["299"],"export default [\r\n    {\r\n      name: \"2 people indoors dinner\",\r\n      wearMask: false,\r\n      duration:90,\r\n      nbPeople: 1,\r\n      nbMasked: 0,\r\n      location: \"indoors\",\r\n      talking: \"normal\",\r\n      distance: \"normal\",\r\n      riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name: \"One night stand\",\r\n        wearMask:false,\r\n        duration:300,\r\n        nbPeople:1,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        talking:\"normal\",\r\n        distance:\"close\",\r\n        riskProfile:\"worker\",\r\n    },\r\n    {\r\n        name: \"Dance lesson (with fixed partner)\",\r\n        wearMask: true,\r\n        duration:60,\r\n        nbPeople: 20,\r\n        nbMasked: 20,\r\n        location: \"indoors\",\r\n        talking: \"normal\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name: \"Concert (seated, with mask)\",\r\n        wearMask: true,\r\n        duration:120,\r\n        nbPeople: 10,\r\n        nbMasked: 10,\r\n        location: \"indoors\",\r\n        talking: \"loud\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Concert (pit, no mask)\",\r\n        wearMask: true,\r\n        duration: 120,\r\n        nbPeople: 100,\r\n        nbMasked: 100,\r\n        location: \"indoors\",\r\n        talking: \"loud\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"School/University (one day)\",\r\n        nbPeople: 10,\r\n        duration: 480,\r\n        wearMask: true,\r\n        nbMasked: 10,\r\n        location: \"indoors\",\r\n        distance: \"long\",\r\n        talking: 'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Queue (30mn)\",\r\n        wearMask: true,\r\n        duration: 30,\r\n        nbPeople: 4,\r\n        nbMasked: 4,\r\n        location: \"indoors\",\r\n        talking: \"normal\",\r\n        distance: \"normal\",\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Delivery food (with mask)\",\r\n        nbPeople:1,\r\n        duration:5,\r\n        wearMask: true,\r\n        nbMasked:1,\r\n        location: \"indoors\",\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Walk in the park\",\r\n        nbPeople:3,\r\n        duration:60,\r\n        wearMask: false,\r\n        nbMasked:0.,\r\n        location: \"outdoors\",\r\n        distance:\"veryLong\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"2 people outdoors lunch\",\r\n        nbPeople:1,\r\n        duration:90,\r\n        wearMask: false,\r\n        nbMasked:0.,\r\n        location: \"outdoors\",\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Library/Museum (with mask)\",\r\n        nbPeople:5,\r\n        duration:120,\r\n        wearMask:true,\r\n        nbMasked:5,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Grocery shopping\",\r\n        nbPeople:10,\r\n        duration:30,\r\n        wearMask:true,\r\n        nbMasked:10,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'quiet',\r\n        riskProfile: \"worker\",\r\n    },\r\n    {\r\n        name:\"2h picnic\",\r\n        nbPeople:5,\r\n        duration:120,\r\n        wearMask:false,\r\n        nbMasked:0,\r\n        location:\"outdoors\",\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Working in an open space\",\r\n        nbPeople:10,\r\n        duration:480,\r\n        wearMask:true,\r\n        nbMasked:10,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Public transportation (1h)\",\r\n        nbPeople:20,\r\n        duration:60,\r\n        wearMask:true,\r\n        nbMasked:20,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"2h indoors group dinner\",\r\n        nbPeople:4,\r\n        duration:120,\r\n        wearMask:false,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Cinema/Theater\",\r\n        nbPeople:50,\r\n        duration:120,\r\n        wearMask:true,\r\n        nbMasked:50,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'quiet',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Theater (1st rank)\",\r\n        nbPeople:8,\r\n        duration:120,\r\n        wearMask:true,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        distance:\"long\",\r\n        talking:'loud',\r\n        riskProfile: \"worker\",\r\n    },\r\n    {\r\n        name:\"3h game night with 4 friends\",\r\n        nbPeople:4,\r\n        duration:180,\r\n        wearMask:false,\r\n        nbMasked:0,\r\n        outdoors:false,\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    },\r\n    {\r\n        name:\"Uber (30mn)\",\r\n        nbPeople:1,\r\n        duration:30,\r\n        wearMask:true,\r\n        nbMasked:1,\r\n        location:\"car\",\r\n        distance:\"normal\",\r\n        talking:'normal',\r\n        riskProfile: \"normal\",\r\n    }\r\n  ]\r\n  ",["300","301"],"D:\\Dev\\covinsights\\src\\components\\Layout.js",["302"],"import React from \"react\"\r\nimport { ThemeProvider } from \"styled-components\"\r\nimport { Theme, GlobalStyle } from \"../css\"\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <main>\r\n      <ThemeProvider theme={Theme}>\r\n        <GlobalStyle />\r\n        {children}\r\n        {/* <Footer /> */}\r\n      </ThemeProvider>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","D:\\Dev\\covinsights\\src\\css\\ContactFormWrapper.js",[],"D:\\Dev\\covinsights\\src\\css\\Theme.js",["303"],"export default {\n  primaryColor: \"#155875\",\n  mainBlack: \"#222\",\n  mainWhite: \"#fff\",\n  offWhite: \"#f7f7f7\",\n  mainGrey: \"#ececec\",\n  darkGrey: \"#afafaf\",\n  ecoGreen: \"#3ead5a\",\n  mainTransition: \"all 0.3s linear\",\n  mainSpacing: \"4px\",\n  lightShadow: \"2px 5px 3px 0px rgba(0, 0, 0, 0.5)\",\n  darkShadow: \"4px 10px 5px 0px rgba(0, 0, 0, 0.5)\",\n}\n","D:\\Dev\\covinsights\\src\\css\\PortfolioItemWrapper.js",[],{"ruleId":"304","replacedBy":"305"},{"ruleId":"306","replacedBy":"307"},{"ruleId":"308","severity":1,"message":"309","line":400,"column":7,"nodeType":"310","messageId":"311","endLine":400,"endColumn":21},{"ruleId":"312","severity":1,"message":"313","line":27,"column":51,"nodeType":"314","messageId":"315","endLine":27,"endColumn":52,"suggestions":"316"},{"ruleId":"317","severity":1,"message":"318","line":43,"column":123,"nodeType":"319","messageId":"320","endLine":43,"endColumn":133},{"ruleId":"308","severity":1,"message":"321","line":142,"column":13,"nodeType":"310","messageId":"311","endLine":142,"endColumn":14},{"ruleId":"322","severity":1,"message":"323","line":156,"column":28,"nodeType":"324","messageId":"320","endLine":156,"endColumn":30},{"ruleId":"308","severity":1,"message":"325","line":180,"column":13,"nodeType":"310","messageId":"311","endLine":180,"endColumn":16},{"ruleId":"308","severity":1,"message":"326","line":10,"column":22,"nodeType":"310","messageId":"311","endLine":10,"endColumn":28},{"ruleId":"308","severity":1,"message":"327","line":73,"column":9,"nodeType":"310","messageId":"311","endLine":73,"endColumn":14},{"ruleId":"308","severity":1,"message":"328","line":1,"column":17,"nodeType":"310","messageId":"311","endLine":1,"endColumn":25},{"ruleId":"304","replacedBy":"329"},{"ruleId":"306","replacedBy":"330"},{"ruleId":"331","severity":1,"message":"332","line":5,"column":1,"nodeType":"333","endLine":66,"endColumn":2},{"ruleId":"322","severity":1,"message":"334","line":210,"column":20,"nodeType":"324","messageId":"320","endLine":210,"endColumn":22},{"ruleId":"322","severity":1,"message":"334","line":213,"column":26,"nodeType":"324","messageId":"320","endLine":213,"endColumn":28},{"ruleId":"322","severity":1,"message":"334","line":213,"column":52,"nodeType":"324","messageId":"320","endLine":213,"endColumn":54},{"ruleId":"322","severity":1,"message":"334","line":216,"column":26,"nodeType":"324","messageId":"320","endLine":216,"endColumn":28},{"ruleId":"304","replacedBy":"335"},{"ruleId":"306","replacedBy":"336"},{"ruleId":"304","replacedBy":"337"},{"ruleId":"306","replacedBy":"338"},{"ruleId":"308","severity":1,"message":"321","line":164,"column":13,"nodeType":"310","messageId":"311","endLine":164,"endColumn":14},{"ruleId":"322","severity":1,"message":"323","line":177,"column":28,"nodeType":"324","messageId":"320","endLine":177,"endColumn":30},{"ruleId":"308","severity":1,"message":"325","line":200,"column":13,"nodeType":"310","messageId":"311","endLine":200,"endColumn":16},{"ruleId":"322","severity":1,"message":"323","line":211,"column":34,"nodeType":"324","messageId":"320","endLine":211,"endColumn":36},{"ruleId":"322","severity":1,"message":"334","line":215,"column":18,"nodeType":"324","messageId":"320","endLine":215,"endColumn":20},{"ruleId":"304","replacedBy":"339"},{"ruleId":"306","replacedBy":"340"},{"ruleId":"304","replacedBy":"341"},{"ruleId":"306","replacedBy":"342"},{"ruleId":"308","severity":1,"message":"309","line":400,"column":7,"nodeType":"310","messageId":"311","endLine":400,"endColumn":21},{"ruleId":"308","severity":1,"message":"343","line":2,"column":8,"nodeType":"310","messageId":"311","endLine":2,"endColumn":17},{"ruleId":"308","severity":1,"message":"328","line":1,"column":17,"nodeType":"310","messageId":"311","endLine":1,"endColumn":25},{"ruleId":"308","severity":1,"message":"328","line":1,"column":17,"nodeType":"310","messageId":"311","endLine":1,"endColumn":25},{"ruleId":"308","severity":1,"message":"344","line":2,"column":8,"nodeType":"310","messageId":"311","endLine":2,"endColumn":16},{"ruleId":"308","severity":1,"message":"345","line":8,"column":8,"nodeType":"310","messageId":"311","endLine":8,"endColumn":24},{"ruleId":"308","severity":1,"message":"346","line":14,"column":9,"nodeType":"310","messageId":"311","endLine":14,"endColumn":25},{"ruleId":"308","severity":1,"message":"347","line":14,"column":27,"nodeType":"310","messageId":"311","endLine":14,"endColumn":35},{"ruleId":"308","severity":1,"message":"348","line":14,"column":52,"nodeType":"310","messageId":"311","endLine":14,"endColumn":63},{"ruleId":"308","severity":1,"message":"349","line":14,"column":65,"nodeType":"310","messageId":"311","endLine":14,"endColumn":82},{"ruleId":"308","severity":1,"message":"350","line":14,"column":84,"nodeType":"310","messageId":"311","endLine":14,"endColumn":104},{"ruleId":"304","replacedBy":"351"},{"ruleId":"306","replacedBy":"352"},{"ruleId":"322","severity":1,"message":"334","line":18,"column":36,"nodeType":"324","messageId":"320","endLine":18,"endColumn":38},{"ruleId":"322","severity":1,"message":"334","line":22,"column":36,"nodeType":"324","messageId":"320","endLine":22,"endColumn":38},{"ruleId":"304","replacedBy":"353"},{"ruleId":"306","replacedBy":"354"},{"ruleId":"308","severity":1,"message":"327","line":84,"column":9,"nodeType":"310","messageId":"311","endLine":84,"endColumn":14},{"ruleId":"308","severity":1,"message":"328","line":1,"column":17,"nodeType":"310","messageId":"311","endLine":1,"endColumn":25},{"ruleId":"308","severity":1,"message":"326","line":10,"column":22,"nodeType":"310","messageId":"311","endLine":10,"endColumn":28},{"ruleId":"308","severity":1,"message":"327","line":85,"column":9,"nodeType":"310","messageId":"311","endLine":85,"endColumn":14},{"ruleId":"308","severity":1,"message":"321","line":165,"column":13,"nodeType":"310","messageId":"311","endLine":165,"endColumn":14},{"ruleId":"322","severity":1,"message":"323","line":178,"column":28,"nodeType":"324","messageId":"320","endLine":178,"endColumn":30},{"ruleId":"308","severity":1,"message":"325","line":201,"column":13,"nodeType":"310","messageId":"311","endLine":201,"endColumn":16},{"ruleId":"322","severity":1,"message":"323","line":212,"column":34,"nodeType":"324","messageId":"320","endLine":212,"endColumn":36},{"ruleId":"322","severity":1,"message":"334","line":216,"column":18,"nodeType":"324","messageId":"320","endLine":216,"endColumn":20},{"ruleId":"308","severity":1,"message":"328","line":1,"column":17,"nodeType":"310","messageId":"311","endLine":1,"endColumn":25},{"ruleId":"308","severity":1,"message":"344","line":2,"column":8,"nodeType":"310","messageId":"311","endLine":2,"endColumn":16},{"ruleId":"308","severity":1,"message":"345","line":8,"column":8,"nodeType":"310","messageId":"311","endLine":8,"endColumn":24},{"ruleId":"308","severity":1,"message":"346","line":14,"column":9,"nodeType":"310","messageId":"311","endLine":14,"endColumn":25},{"ruleId":"308","severity":1,"message":"347","line":14,"column":27,"nodeType":"310","messageId":"311","endLine":14,"endColumn":35},{"ruleId":"308","severity":1,"message":"348","line":14,"column":52,"nodeType":"310","messageId":"311","endLine":14,"endColumn":63},{"ruleId":"308","severity":1,"message":"349","line":14,"column":65,"nodeType":"310","messageId":"311","endLine":14,"endColumn":82},{"ruleId":"308","severity":1,"message":"350","line":14,"column":84,"nodeType":"310","messageId":"311","endLine":14,"endColumn":104},{"ruleId":"322","severity":1,"message":"334","line":18,"column":36,"nodeType":"324","messageId":"320","endLine":18,"endColumn":38},{"ruleId":"322","severity":1,"message":"334","line":22,"column":36,"nodeType":"324","messageId":"320","endLine":22,"endColumn":38},{"ruleId":"331","severity":1,"message":"332","line":1,"column":1,"nodeType":"333","endLine":222,"endColumn":4},{"ruleId":"304","replacedBy":"355"},{"ruleId":"306","replacedBy":"356"},{"ruleId":"304","replacedBy":"357"},{"ruleId":"306","replacedBy":"358"},{"ruleId":"331","severity":1,"message":"332","line":5,"column":1,"nodeType":"333","endLine":66,"endColumn":2},{"ruleId":"331","severity":1,"message":"332","line":1,"column":1,"nodeType":"333","endLine":222,"endColumn":4},{"ruleId":"304","replacedBy":"359"},{"ruleId":"306","replacedBy":"360"},{"ruleId":"308","severity":1,"message":"361","line":4,"column":8,"nodeType":"310","messageId":"311","endLine":4,"endColumn":13},{"ruleId":"331","severity":1,"message":"362","line":1,"column":1,"nodeType":"333","endLine":13,"endColumn":2},"no-native-reassign",["363"],"no-negated-in-lhs",["364"],"no-unused-vars","'PersonWithRisk' is defined but never used.","Identifier","unusedVar","no-useless-escape","Unnecessary escape character: \\a.","Literal","unnecessaryEscape",["365","366"],"no-dupe-keys","Duplicate key 'globalRisk'.","ObjectExpression","unexpected","'i' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","'res' is assigned a value but never used.","'Button' is defined but never used.","'mySum' is assigned a value but never used.","'Children' is defined but never used.",["363"],["364"],"import/no-anonymous-default-export","Assign array to a variable before exporting as module default","ExportDefaultDeclaration","Expected '===' and instead saw '=='.",["363"],["364"],["363"],["364"],["363"],["364"],["363"],["364"],"'Container' is defined but never used.","'Checkbox' is defined but never used.","'FormControlLabel' is defined but never used.","'InteractionCrowd' is defined but never used.","'Activity' is defined but never used.","'RiskProfile' is defined but never used.","'WorkerRiskProfile' is defined but never used.","'NonWorkerRiskProfile' is defined but never used.",["363"],["364"],["363"],["364"],["363"],["364"],["363"],["364"],["363"],["364"],"'Paper' is defined but never used.","Assign object to a variable before exporting as module default","no-global-assign","no-unsafe-negation",{"messageId":"367","fix":"368","desc":"369"},{"messageId":"370","fix":"371","desc":"372"},"removeEscape",{"range":"373","text":"374"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"375","text":"376"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1225,1226],"",[1225,1225],"\\"]